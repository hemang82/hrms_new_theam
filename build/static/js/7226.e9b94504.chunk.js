(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[7226],{11976:()=>{},34263:(e,a,l)=>{"use strict";l.d(a,{Z:()=>n});var s=l(73349),d=l.n(s),i=l(32003),t=l(52610);l(82391);let o={region:i.E7,accessKeyId:i.Fb,secretAccessKey:i.YE,endpoint:"https://s3.".concat(i.E7,".amazonaws.com/chatmyastrologer")};d().config.update(o),console.log("config",o);const n=async(e,a)=>{try{var l;const s=new FormData;s.append("file_type",a),s.append("files",e);const d=await(0,t.QM)(s);console.log("Upload s3 buckets");return(null===d||void 0===d||null===(l=d.data[0])||void 0===l?void 0:l.s3_object_url)||""}catch(s){throw console.log("uploadImageOnAWS",s),s}}},42787:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>S});var s=l(89379),d=l(9950),i=l(82569),t=l(28429),o=(l(20404),l(12815),l(3302),l(19594),l(13658),l(79739)),n=l(52610),r=l(82391),c=l(42380),m=l(2401),u=(l(73907),l(59091)),v=l(32003),h=l(45397),x=l(70591),b=l(23172),p=l(19030),j=l(75061),N=l(82543),g=l(42935),f=l(9449),y=l(60984),w=l(4159),_=l.n(w),A=(l(90923),l(53856),l(34263),l(90607),l(77923),l(35254),l(17687),l(59051),l(44414));function S(){var e,a;(0,t.Zp)();const l=(0,i.wA)(),[w,S]=(0,d.useState)(0),[T,k]=(0,d.useState)(""),[E,C]=(0,d.useState)(!1),{leaveRequestList:{data:F}}=(0,i.d4)(e=>e.masterslice),{customModel:D}=(0,i.d4)(e=>e.masterslice),{register:M,handleSubmit:R,setValue:L,clearErrors:O,reset:P,watch:I,trigger:V,control:q,formState:{errors:z}}=(0,f.mN)(),{register:W,handleSubmit:Y,formState:{errors:H},reset:U}=(0,f.mN)(),[J,K]=(0,d.useState)({}),[Z,B]=(0,d.useState)(!1),[G,Q]=(0,d.useState)(""),[X,$]=((0,h.A)(G,v.dA),(0,d.useState)({global:{value:""}})),[ee,ae]=(0,d.useState)(!1),[le,se]=(0,d.useState)(!1),[de,ie]=(0,d.useState)(!1),[te,oe]=(0,d.useState)(!1),[ne,re]=(0,d.useState)({key:"",value:"ALL STATUS"}),[ce,me]=(0,d.useState)(null),[ue,ve]=(0,d.useState)(-1),[he,xe]=(0,d.useState)(null),[be,pe]=(0,d.useState)(null),[je,Ne]=(0,d.useState)(10),[ge,fe]=(0,d.useState)(1),[ye,we]=(0,d.useState)((null===F||void 0===F?void 0:F.length)>0?F:[]),[_e,Ae]=(0,d.useState)(null);(0,d.useEffect)(()=>{var e;null===(e=N.wz[0])||void 0===e||e.key;re({})},[]),(0,d.useEffect)(()=>{let e={start_date:he?(0,x.qr)(he,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:be?(0,x.qr)(be,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,status:null===ne||void 0===ne?void 0:ne.key};const a=(null===F||void 0===F?void 0:F.length)>0?null===F||void 0===F?void 0:F.filter(a=>{let l=!0;""!==e.status&&null!==e.status&&void 0!==e.status&&(l=Number(a.status)===Number(null===e||void 0===e?void 0:e.status));let s=!0;if(null!==e&&void 0!==e&&e.start_date&&null!==e&&void 0!==e&&e.end_date){const l=new Date(null===a||void 0===a?void 0:a.start_date),d=new Date(null===a||void 0===a?void 0:a.end_date),i=new Date(null===e||void 0===e?void 0:e.start_date),t=new Date(null===e||void 0===e?void 0:e.end_date);s=d>=i&&l<=t}return l&&s}):[];we(a)},[F,be,ne]);const Se=async e=>{if(e)try{l((0,u.iC)(!0));const e={id:null===J||void 0===J?void 0:J.id},a=await(0,n.dm)(e);if(a.code==(null===v.NC||void 0===v.NC?void 0:v.NC.SUCCESS)){const e=null===F||void 0===F?void 0:F.filter(e=>e.id!==(null===J||void 0===J?void 0:J.id));l((0,u.GU)(e)),(0,r.k1)(null===a||void 0===a?void 0:a.message)}else(0,r.uU)((null===a||void 0===a?void 0:a.message)||"Something went wrong!")}catch(a){(0,r.uU)("Please try again."),(0,x.MF)(l),se(!1)}finally{(0,x.MF)(l),se(!1),l((0,u.iC)(!1))}},Te=()=>{se(!1),K({})},ke=()=>{ae(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"container-fluid mw-100",children:[(0,A.jsx)(o.A,{title:"Verified Face",header:"Verified Face"}),(0,A.jsxs)("div",{className:"widget-content searchable-container list",children:[_e&&(0,A.jsx)("div",{className:"col-12 justify-content-center",children:(0,A.jsx)("div",{className:"card  ",children:(0,A.jsx)("div",{className:"p-3 row_2",children:(0,A.jsx)("div",{className:"row",children:[{label:"Casual Leave",value:null===_e||void 0===_e?void 0:_e.casual},{label:"Compoff Leave",value:null===_e||void 0===_e?void 0:_e.compoff},{label:"Total Leave",value:(Number(null===_e||void 0===_e?void 0:_e.casual)||0)+(Number(null===_e||void 0===_e?void 0:_e.compoff)||0)}].map((e,a)=>(0,A.jsx)("div",{className:"col-12 col-sm-6 col-md-3 col-lg-4 attendance_card",children:(0,A.jsx)("div",{className:"card border-1 zoom-in them-light shadow-sm",children:(0,A.jsxs)("div",{className:"p-2 text-center",children:[(0,A.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam",children:e.label}),(0,A.jsx)("h5",{className:"fw-semibold text-dark mb-0 fs-5",children:e.value||"-"})]})},a)}))})})})}),(0,A.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,A.jsxs)("div",{className:"row g-2",children:[(0,A.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,A.jsxs)("div",{className:"position-relative mt-2 w-75",children:[(0,A.jsx)("input",{type:"text",className:"form-control ps-5  ",id:"input-search",placeholder:"Search verified Face ...",value:G,onChange:e=>{const a=e.target.value;let l=(0,s.A)({},X);l.global&&(l.global.value=a),$(l),fe(1),Q(null===a||void 0===a?void 0:a.trim())}}),(0,A.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,A.jsx)("div",{className:"col-12 col-md-6 col-lg-2"}),(0,A.jsx)("div",{className:"col-12 col-md-6 col-lg-2"}),(0,A.jsx)("div",{className:"col-12 col-md-6 col-lg-2"}),(0,A.jsx)("div",{className:"col-12 col-md-6 col-lg-2 mb-3 mb-md-0"})]})}),(0,A.jsx)("div",{className:"card p-3",children:(0,A.jsxs)("div",{className:"table-responsive",children:[(0,A.jsxs)(c.b,{value:(null===ye||void 0===ye?void 0:ye.length)>0?ye:[],paginator:!0,rows:15,globalFilter:G,sortField:ce,sortOrder:ue,onSort:e=>{console.log("Sort event triggered:",e),me(null===e||void 0===e?void 0:e.sortField),ve(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===ye||void 0===ye?void 0:ye.length)>50?[20,30,50,null===ye||void 0===ye?void 0:ye.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:Z,emptyMessage:(0,A.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Verified Not Found."}),children:[(0,A.jsx)(m.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>(null===a||void 0===a?void 0:a.rowIndex)+1,showFilterMenu:!0}),(0,A.jsx)(m.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,A.jsxs)("span",{className:"me-2",children:[(0,x.sz)(e.name)||"-"," "]})}),(0,A.jsx)(m.V,{field:"created_at",header:"Created Date",style:{minWidth:"9rem"},body:e=>(0,A.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.created_at,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_YEAR_WISE_SLASH_TIME_FORMAT)||"-"," "]})}),(0,A.jsx)(m.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>(0,A.jsx)("div",{className:"action-btn",children:(0,A.jsx)("a",{className:"text-danger  ms-2 cursor_pointer",onClick:()=>{var a,l;a=e,l="cancel",se(!0),K((0,s.A)((0,s.A)({},a),{},{actionType:l}))},children:(0,A.jsx)("i",{className:"ti ti-trash fs-7"})})})})]}),(0,A.jsx)("div",{className:"",children:(0,A.jsx)(j.A,{per_page:50,pageCount:null===F||void 0===F?void 0:F.total_count,onPageChange:e=>{fe(e)},page:ge})})]})})]})]}),(0,A.jsx)("div",{className:"modal custom-modal  ".concat(ee?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,A.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,A.jsxs)("div",{className:"modal-content border-0",children:[(0,A.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,A.jsxs)("h6",{className:"modal-title fs-5",children:["Add Request Leave"," "]}),(0,A.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{ke()}})]}),(0,A.jsx)("div",{className:"modal-body",children:(0,A.jsx)("form",{onSubmit:R(async e=>{l((0,u.iC)(!0));let a={date:(0,x.Ny)(e[N.ic.DATE],null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_DASH_TIME_FORMAT),leave_day:e[N.ic.LEAVE_DAY],reason:e[N.ic.REASON]};console.log("emp_leave_company: EMPLOYEE_STATUS[0]?.key,",a)}),children:(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)("div",{className:"card-body p-2",children:(0,A.jsxs)("div",{className:"row g-1",children:[(0,A.jsx)("input",(0,s.A)({type:"hidden",value:"some_default_value"},M(N.ic.ID))),(0,A.jsxs)("div",{className:"row g-3",children:[(0,A.jsxs)("div",{className:"col-md-4",children:[(0,A.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,A.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,A.jsx)(f.xI,{name:N.ic.DATE,control:q,rules:{required:"Date is required"},render:e=>{let{field:a}=e;return(0,A.jsx)(y.A,{id:N.ic.DATE,picker:"date",disabled:de,className:"form-control custom-datepicker w-100",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:a.value?_()(a.value,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):_()(),onChange:e=>a.onChange(e?_()(e).format(null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):_()())})}}),z[N.ic.DATE]&&(0,A.jsx)("small",{className:"text-danger",children:z[N.ic.DATE].message})]}),(0,A.jsx)("div",{className:"col-md-8",children:(0,A.jsxs)("div",{className:"mb-1",children:[(0,A.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Leave Type",(0,A.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,A.jsx)("div",{className:"input-group border rounded-1",children:(0,A.jsx)("select",(0,s.A)((0,s.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},M(N.ic.LEAVE_TYPE,{required:"Select leave type"})),{},{defaultValue:"compoff",disabled:!0,children:(0,x.MT)(N.SB)}))}),(0,A.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=z[N.ic.LEAVE_TYPE])||void 0===e?void 0:e.message})]})})]}),(0,A.jsxs)("div",{className:"mb-1",children:[(0,A.jsxs)("label",{htmlFor:"leave_reason",className:"form-label fw-semibold",children:["Reason",(0,A.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,A.jsx)("div",{className:"input-group border rounded-1",children:(0,A.jsx)(f.xI,{name:N.ic.REASON,control:q,rules:{required:"Enter reason"},render:e=>{let{field:a}=e;return(0,A.jsx)("textarea",(0,s.A)((0,s.A)({},a),{},{className:"form-control w-100",placeholder:"Enter reason",rows:3}))}})}),(0,A.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(a=z[N.ic.REASON])||void 0===a?void 0:a.message})]}),(0,A.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,A.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{ke()},children:"Cancel"}),(0,A.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),ee&&(0,A.jsx)("div",{className:"modal-backdrop fade show"}),(0,A.jsx)("div",{className:"modal custom-modal  ".concat(le?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,A.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,A.jsxs)("div",{className:"modal-content border-0",children:[(0,A.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,A.jsxs)("h6",{className:"modal-title fs-4",children:["approved"===(null===J||void 0===J?void 0:J.actionType)?"Are you sure approve leave ?":"Delete Verified Face"," "]}),(0,A.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Te()}})]}),(0,A.jsx)("div",{className:"modal-body",children:(0,A.jsx)("form",{onSubmit:Y(Se),children:(0,A.jsx)("div",{className:"col-lg-12",children:(0,A.jsx)("div",{className:"card-body pt-4 p-2",children:(0,A.jsxs)("div",{className:"row g-3",children:[(0,A.jsx)("input",(0,s.A)({type:"hidden",value:2},M("actionType"))),(0,A.jsx)("input",(0,s.A)({type:"hidden",value:"Cancelled by Employee"},W(N.ic.REASON))),(0,A.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle mb-3",style:{width:"70px",height:"70px",border:"2px solid #1F7494"},children:(0,A.jsx)(g.WFf,{color:"#1F7494",size:32})}),(0,A.jsx)("h5",{className:"fw-bold mb-2",children:"Are you sure ?"})]}),(0,A.jsxs)("div",{className:"modal-footer justify-content-center border-0",children:[(0,A.jsx)("button",{type:"button",className:"btn btn-danger",onClick:Te,children:"No, Keep"}),(0,A.jsx)("button",{type:"submit",className:"btn btn-primary",children:"approved"===(null===J||void 0===J?void 0:J.actionType)?"Yes, Approve":"Yes, Cancel"})]})]})})})})})]})})}),le&&(0,A.jsx)("div",{className:"modal-backdrop fade show"}),(0,A.jsx)("div",{className:"modal custom-modal  ".concat(te?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,A.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,A.jsxs)("div",{className:"modal-content border-0",children:[(0,A.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,A.jsx)("h6",{className:"modal-title fs-5",children:"Comp Off Requests Details"}),(0,A.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{oe(!1),K({})}})]}),(0,A.jsx)("div",{className:"modal-body ",children:(0,A.jsxs)("div",{className:"row m-2",children:[[{label:"Date",value:(0,x.Ny)(null===J||void 0===J?void 0:J.date,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_DASH_TIME_FORMAT,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT)||"-"},{label:"Leave Type",value:"Comp off"},{label:"Day",value:"".concat("half"==(null===J||void 0===J?void 0:J.leave_day_type)?"0.5":"1")||"-"}].map((e,a)=>(0,A.jsx)("div",{className:"col-12 col-md-4 mb-3 pb-2 border-1 border-bottom",children:"Reason"==(null===e||void 0===e?void 0:e.label)?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,A.jsx)("h6",{dangerouslySetInnerHTML:{__html:e.value}})]}):e.value&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("p",{className:"mb-1 fs-3",children:e.label}),(0,A.jsx)("h6",{className:"fw-semibold mb-0 fs-4 text-capitalize",children:e.value||"N/A"})]})},a)),(null===J||void 0===J?void 0:J.reason)&&(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,A.jsx)("p",{className:"mb-1 fs-4",children:"Reason"}),(0,A.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:J.reason||"N/A"})]})}),(null===J||void 0===J?void 0:J.admin_reason)&&(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,A.jsx)("p",{className:"mb-1 fs-4",children:"Admin Reason"}),(0,A.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:J.admin_reason||"N/A"})]})})]})})]})})}),te&&(0,A.jsx)("div",{className:"modal-backdrop fade show"}),D.isOpen&&(null===D||void 0===D?void 0:D.modalType)===v.bt.DELETE_MODEL&&(0,A.jsx)(b.A,{children:(0,A.jsx)(p.b3,{onConfirm:Se})})]})}},53856:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var a=["th","st","nd","rd"],l=e%100;return"["+e+(a[(l-20)%10]||a[l]||a[0])+"]"}}}()},75061:(e,a,l)=>{"use strict";l.d(a,{A:()=>o});var s=l(9950),d=l(82569),i=l(59091),t=l(44414);const o=e=>{let{per_page:a,pageCount:l,onPageChange:o,page:n,lableName:r}=e;const c=(0,d.wA)(),[m,u]=(0,s.useState)(),v=Math.ceil(l/a)||4;(0,s.useEffect)(()=>{u(n),c((0,i.MU)(!0))},[n]);const h=e=>{e>=1&&e<=v&&(u(e),o(e))};return(0,t.jsx)(t.Fragment,{children:a<l?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"showing-results border-top ",children:(0,t.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,t.jsxs)("ul",{className:"pagination ",children:[(0,t.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>h(1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,t.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>h(m-1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let a=m-Math.floor(1.5);a=Math.max(a,1);const s=Math.min(a+3-1,v);s-a<2&&(a=Math.max(s-3+1,1));for(let d=a;d<=s;d++){const a=m===d;if(l>0){const l="page-link font_18 ".concat(a?"text-dark active-link-pagination":"text-muted"),s="page-item ".concat(a?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,t.jsx)("li",{className:s,children:(0,t.jsx)("button",{className:l,onClick:()=>!a&&h(d),disabled:a,style:{color:"black",backgroundColor:"white"},children:d})},d))}}return e})(),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>h(m+1),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>h(v),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,t.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*a,l)||0," of ",l," entries"]})]})})}):null})}}}]);