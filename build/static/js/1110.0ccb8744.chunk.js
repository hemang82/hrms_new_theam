(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[1110],{15007:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},l={};return function(a,s,t){var i,d=function(e,a,s){void 0===s&&(s={});var t=new Date(e),i=function(e,a){void 0===a&&(a={});var s=a.timeZoneName||"short",t=e+"|"+s,i=l[t];return i||(i=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),l[t]=i),i}(a,s);return i.formatToParts(t)},o=function(l,a){for(var s=d(l,a),i=[],o=0;o<s.length;o+=1){var n=s[o],r=n.type,c=n.value,m=e[r];m>=0&&(i[m]=parseInt(c,10))}var u=i[3],v=24===u?0:u,h=i[0]+"-"+i[1]+"-"+i[2]+" "+v+":"+i[4]+":"+i[5]+":000",x=+l;return(t.utc(h).valueOf()-(x-=x%1e3))/6e4},n=s.prototype;n.tz=function(e,l){void 0===e&&(e=i);var a,s=this.utcOffset(),d=this.toDate(),o=d.toLocaleString("en-US",{timeZone:e}),n=Math.round((d-new Date(o))/1e3/60),r=15*-Math.round(d.getTimezoneOffset()/15)-n;if(Number(r)){if(a=t(o,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(r,!0),l){var c=a.utcOffset();a=a.add(s-c,"minute")}}else a=this.utcOffset(0,l);return a.$x.$timezone=e,a},n.offsetName=function(e){var l=this.$x.$timezone||t.tz.guess(),a=d(this.valueOf(),l,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return a&&a.value};var r=n.startOf;n.startOf=function(e,l){if(!this.$x||!this.$x.$timezone)return r.call(this,e,l);var a=t(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return r.call(a,e,l).tz(this.$x.$timezone,!0)},t.tz=function(e,l,a){var s=a&&l,d=a||l||i,n=o(+t(),d);if("string"!=typeof e)return t(e).tz(d);var r=function(e,l,a){var s=e-60*l*1e3,t=o(s,a);if(l===t)return[s,l];var i=o(s-=60*(t-l)*1e3,a);return t===i?[s,t]:[e-60*Math.min(t,i)*1e3,Math.max(t,i)]}(t.utc(e,s).valueOf(),n,d),c=r[0],m=r[1],u=t(c).utcOffset(m);return u.$x.$timezone=d,u},t.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},t.tz.setDefault=function(e){i=e}}}()},15928:(e,l,a)=>{"use strict";e.exports=a.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},29873:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>D});var s=a(89379),t=a(9950),i=a(82569),d=a(28429),o=a(42074),n=(a(20404),a(12815),a(3302),a(19594),a(13658),a(79739)),r=a(52610),c=a(82391),m=(a(15928),a(78476),a(72772),a(42380)),u=a(2401),v=(a(73907),a(59091)),h=a(32003),x=(a(45397),a(70591)),b=a(23172),g=a(19030),p=a(75061),j=a(82543),_=a(9449),f=a(60984),N=a(4159),k=a.n(N),T=(a(53856),a(25495)),w=a(90607),H=a(61977),O=a(36220),S=a.n(O),y=a(15007),C=a.n(y),A=a(55117),E=a.n(A),M=a(82137),I=a(44414);function D(){var e,l;let a=(0,d.Zp)();const N=(0,i.wA)(),{ticketList:{data:O}}=(0,i.d4)(e=>e.masterslice),{projectList:{data:S}}=(0,i.d4)(e=>e.masterslice),{customerList:{data:y}}=(0,i.d4)(e=>e.masterslice),{customModel:C}=(0,i.d4)(e=>e.masterslice),{register:A,handleSubmit:D,setValue:R,clearErrors:F,reset:L,watch:P,control:W,trigger:z,formState:{errors:U}}=(0,_.mN)({defaultValues:{breaks:[{start:null,end:null}]}}),{fields:$,append:q,remove:V}=(0,_.jz)({control:W,name:"breaks"}),[B,Y]=(0,t.useState)(null),[Z,J]=(0,t.useState)({}),[K,Q]=(0,t.useState)(!1),[G,X]=(0,t.useState)(""),[ee,le]=(0,t.useState)({global:{value:""}}),[ae,se]=(0,t.useState)(!1),[te,ie]=(0,t.useState)({}),[de,oe]=(0,t.useState)(null),[ne,re]=(0,t.useState)(-1),[ce,me]=(0,t.useState)(null),[ue,ve]=(0,t.useState)(null),[he,xe]=(0,t.useState)(10),[be,ge]=(0,t.useState)(1),[pe,je]=(0,t.useState)(!1),[_e,fe]=(0,t.useState)([]),[Ne,ke]=(0,t.useState)(!1),[Te,we]=(0,t.useState)(j.wz[0]),[He,Oe]=(0,t.useState)({});(0,t.useEffect)(()=>{const e={emp_leave_company:null===Te||void 0===Te?void 0:Te.key};0===(null===y||void 0===y?void 0:y.length)&&N((0,v.hI)(e)),0===(null===S||void 0===S?void 0:S.length)&&N((0,v.EF)({})),ie({})},[]),(0,t.useEffect)(()=>{0==(null===O||void 0===O?void 0:O.length)&&N((0,v.nj)({}))},[O]);const Se=(e,l,a,s,t)=>{let i,d;console.log("taskList",e),console.log("projectId",t),l&&(i=new Date(l),i.setHours(0,0,0,0)),a&&(d=new Date(a),d.setHours(23,59,59,999));const o=null===e||void 0===e?void 0:e.filter(e=>{const l=new Date(null===e||void 0===e?void 0:e.created_at);let a=!0;i&&!d?a=l>=i:!i&&d?a=l<=d:i&&d&&(a=l>=i&&l<=d);let o=!0;var n;s&&(o=(null===e||void 0===e||null===(n=e.priority)||void 0===n?void 0:n.toLowerCase())===s.toLowerCase());let r=!0;return t&&(r=(null===e||void 0===e?void 0:e.project_id)==t),a&&o&&r}),n=null===o||void 0===o?void 0:o.sort((e,l)=>new Date(l.created_at).getTime()-new Date(e.created_at).getTime());fe(n)};(0,t.useEffect)(()=>{O&&(null===O||void 0===O?void 0:O.length)>0?Se(O):fe([])},[O,ce]);const ye=()=>{ke(!1),J({}),L()},{Option:Ce}=M.A,Ae=e=>{let{rowData:l}=e;const a=e=>{const l=j.e1[e];return{backgroundColor:null===l||void 0===l?void 0:l.color,color:(null===l||void 0===l?void 0:l.textColor)||"#000",borderRadius:6,padding:"2px 8px",textAlign:"center"}};return(0,I.jsx)(M.A,{defaultValue:(null===l||void 0===l?void 0:l.status)||"open",style:{width:120},onChange:(e,a)=>{(0,r.Xx)({status:e,ticket_id:null===l||void 0===l?void 0:l.id}).then(a=>{(null===a||void 0===a?void 0:a.code)==h.NC.SUCCESS?((0,c.k1)(null===a||void 0===a?void 0:a.message),N((0,v.iD)({ticket_id:null===l||void 0===l?void 0:l.id,status:e}))):(0,c.uU)(a.message)})},dropdownMatchSelectWidth:!1,optionLabelProp:"label",className:"task-status",value:(null===l||void 0===l?void 0:l.status)||"open",children:Object.entries(j.e1).map(e=>{let[l,{label:s,u_key:t}]=e;return(0,I.jsx)(I.Fragment,{children:"ticket_status"==t&&(0,I.jsx)(Ce,{value:l,label:(0,I.jsx)("div",{style:a(l),className:"task_list_item",children:s}),children:(0,I.jsx)("div",{style:a(l),children:s})},l)})})})};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(H.default,{isActive:pe,message:"Please Wait"}),(0,I.jsxs)("div",{className:"container-fluid mw-100",children:[(0,I.jsx)(n.A,{title:"Ticket List",header:"Ticket List"}),(0,I.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,I.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,I.jsxs)("div",{className:"row g-2",children:[(0,I.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,I.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,I.jsx)("input",{type:"text",className:"form-control ps-5",id:"input-search",placeholder:"Search Ticket List ...",value:G,onChange:e=>{const l=e.target.value;let a=(0,s.A)({},ee);a.global&&(a.global.value=l),le(a),ge(1),X(null===l||void 0===l?void 0:l.trim())}}),(0,I.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,I.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,I.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,I.jsx)(f.A,{className:"custom-datepicker w-100 p-2",format:null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT,value:ce,onChange:e=>{me(e),ve(null)}})]}),(0,I.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,I.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,I.jsx)(f.A,{className:"custom-datepicker w-100 p-2",format:null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT,value:ue,onChange:e=>{ve(e),ge(1),(async e=>{try{Se(O,null!==e&&void 0!==e&&e.start_date?(0,x.qr)(e.start_date,j.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,null!==e&&void 0!==e&&e.end_date?(0,x.qr)(e.end_date,j.ow.DATE_LOCAL_DASH_TIME_FORMAT):null)}finally{}})({end_date:e,start_date:ce})},disabledDate:e=>!!ce&&e.isBefore(ce,"day"),disabled:!ce})]}),(0,I.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 d-flex flex-column",children:[(0,I.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Select Project"}),(0,I.jsxs)("div",{className:"btn-group w-100",children:[(0,I.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===te||void 0===te?void 0:te.name)||"Select Project"}),(0,I.jsx)("ul",{className:"dropdown-menu w-100",children:(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.map(e=>(0,I.jsx)("li",{children:(0,I.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>(e=>{ie(e),Se(O,ce,ue,null,null===e||void 0===e?void 0:e.id),ge(1)})(e),children:null===e||void 0===e?void 0:e.name})},e.value)))})]})]}),(0,I.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 d-flex flex-column",children:[(0,I.jsx)("label",{className:"form-label fw-semibold mb-1",children:"\xa0"})," ",(0,I.jsxs)("button",{type:"button",className:"btn btn-sm btn-info d-flex align-items-center justify-content-center w-100",style:{height:"40px"},onClick:()=>a(w.R.ADD_TICKET),children:[(0,I.jsx)(T.QwN,{className:"me-1",style:{fontSize:"1.2rem"}}),(0,I.jsx)("span",{className:"fw-semibold",children:"Add Ticket"})]})]})]})}),(0,I.jsx)("div",{className:"card card-body",children:(0,I.jsxs)("div",{className:"table-responsive",children:[(0,I.jsxs)(m.b,{value:(null===_e||void 0===_e?void 0:_e.length)>0?_e:[],paginator:!0,rows:50,globalFilter:G,sortField:de,sortOrder:ne,onSort:e=>{console.log("Sort event triggered:",e),oe(null===e||void 0===e?void 0:e.sortField),re(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===_e||void 0===_e?void 0:_e.length)>50?[20,30,50,null===_e||void 0===_e?void 0:_e.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:K,emptyMessage:(0,I.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Ticket Not Found."}),children:[(0,I.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,l)=>(null===l||void 0===l?void 0:l.rowIndex)+1,showFilterMenu:!0}),(0,I.jsx)(u.V,{field:"title",header:"Ticket Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,I.jsxs)("span",{className:"me-2",children:[(0,x.sz)(null===e||void 0===e?void 0:e.title)||"-"," "]})}),(0,I.jsx)(u.V,{field:"project_name",header:"Project Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,I.jsxs)("span",{className:"me-2",children:[(0,x.sz)(null===e||void 0===e?void 0:e.project_name)||"-"," "]})}),(0,I.jsx)(u.V,{field:"created_at",header:"Create Ticket",sortable:!0,style:{minWidth:"10rem"},body:e=>(0,I.jsxs)("span",{className:"me-2",children:[(0,x.CT)(null===e||void 0===e?void 0:e.created_at,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT)||"-"," "]})}),(0,I.jsx)(u.V,{field:"reported_by_name",header:"Reported Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,I.jsxs)("span",{className:"me-2",children:[(0,x.sz)(null===e||void 0===e?void 0:e.reported_by_name)||"-"," "]})}),(0,I.jsx)(u.V,{field:"status",header:"Status",sortable:!0,style:{minWidth:"10rem"},body:e=>(0,I.jsx)(Ae,{rowData:e})}),(0,I.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>(0,I.jsxs)("div",{className:"action-btn",children:[(0,I.jsx)("a",{className:"text-custom-theam edit cursor_pointer cursor_pointer me-1",onClick:()=>a(null===w.R||void 0===w.R?void 0:w.R.EDIT_TICKET,{state:e}),children:(0,I.jsx)("i",{class:"ti ti-edit fs-7"})}),(0,I.jsx)(o.N_,{onClick:()=>{var l;l=e,se(!0),J(l)},state:e,className:"text-info edit cursor_pointer text-custom-theam",children:(0,I.jsx)("i",{className:"ti ti-eye fs-7"})}),(0,I.jsx)("a",{className:"text-dark delete ms-2 cursor_pointer text-custom-theam",onClick:()=>{(0,x.GF)(N,h.bt.DELETE_MODEL),J(e)},children:(0,I.jsx)("i",{className:"ti ti-trash fs-7 text-danger"})})]})})]}),(0,I.jsx)("div",{className:"",children:(0,I.jsx)(p.A,{per_page:50,pageCount:null===O||void 0===O?void 0:O.total_count,onPageChange:e=>{ge(e)},page:be})})]})})]})]}),(0,I.jsx)("div",{className:"modal custom-modal  ".concat(ae?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,I.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,I.jsxs)("div",{className:"modal-content border-0",children:[(0,I.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,I.jsxs)("h6",{className:"modal-title fs-5",children:["Ticket Details"," "]}),(0,I.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{se(!1),J({})}})]}),(0,I.jsx)("div",{className:"modal-body ",children:(0,I.jsxs)("div",{className:"row m-2",children:[[{label:"Ticket Date",value:(0,x.Ny)(null===Z||void 0===Z?void 0:Z.created_at,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_DASH_TIME_FORMAT,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT)||"-"},{label:"Ticket Name",value:null===Z||void 0===Z?void 0:Z.title},{label:"Project Name",value:(null===Z||void 0===Z?void 0:Z.project_name)||"-"},{label:"Status",value:(null===(e=j.e1[null===Z||void 0===Z?void 0:Z.status])||void 0===e?void 0:e.label)||"-"},{label:"Team Member",value:null!==Z&&void 0!==Z&&Z.assigned_employee_names?(0,I.jsx)("ul",{className:"mb-1 ps-3 ",children:Z.assigned_employee_names.split(",").map(e=>e.trim()).map((e,l)=>(0,I.jsxs)("li",{className:"fs-4 pb-1 pt-1",children:[l+1,". ",e]},l))}):"-"},{label:"Ticket Description",value:(0,x.J2)(null!==Z&&void 0!==Z&&Z.description?null===Z||void 0===Z?void 0:Z.description:"")}].map((e,l)=>(0,I.jsx)(I.Fragment,{children:"Ticket Description"!=e.label?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:"col-6 mb-3 pb-2 border-1 border-bottom",children:e.value&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"mb-1 fs-3",children:e.label}),(0,I.jsx)("div",{className:"fw-semibold mb-0 fs-3 text-capitalize ",children:e.value||"N/A"})]})},l)}):"Status"!=e.label?(0,I.jsxs)("div",{className:"col-6 mb-3 pb-2 border-1 border-bottom",children:[(0,I.jsx)("p",{className:"mb-1 fs-3",children:e.label}),(0,I.jsx)("span",{className:"p-tag p-component badge p-1 text-light fw-semibold px-3 status_font rounded-4 py-2 ".concat((0,j.Ny)(null===Z||void 0===Z?void 0:Z.status)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",children:(0,I.jsx)("span",{className:"p-tag-value fs-2","data-pc-section":"value",children:(0,j.BS)(null===Z||void 0===Z?void 0:Z.status)||"-"})})]},l):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:"col-12 mb-3 pb-2 border-1 border-bottom",children:e.value&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"mb-1 fs-3",children:e.label}),(0,I.jsx)("div",{className:"fw-semibold mb-0 fs-3 text-capitalize ",children:e.value||"N/A"})]})},l)})})),(null===Z||void 0===Z?void 0:Z.reason)&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,I.jsx)("p",{className:"mb-1 fs-4",children:"Reason"}),(0,I.jsx)("h6",{className:"fw-meduim mb-0 fs-5 text-capitalize",children:(null===Z||void 0===Z?void 0:Z.reason)||"N/A"})]})}),(null===Z||void 0===Z?void 0:Z.admin_reason)&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,I.jsx)("p",{className:"mb-1 fs-4",children:"Admin Reason"}),(0,I.jsx)("h6",{className:"fw-meduim mb-0 fs-5 text-capitalize",children:(null===Z||void 0===Z?void 0:Z.admin_reason)||"N/A"})]})})]})})]})})}),ae&&(0,I.jsx)("div",{className:"modal-backdrop fade show"}),(0,I.jsx)("div",{className:"modal custom-modal  ".concat(Ne?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,I.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,I.jsxs)("div",{className:"modal-content border-0",children:[(0,I.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,I.jsxs)("h3",{className:"modal-title fs-5",children:[Ne?"Edit Attendance Details":"Add Attendance Details"," "]}),(0,I.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{ye()}})]}),(0,I.jsxs)("div",{className:"modal-body",children:[(0,I.jsx)("div",{className:"row",children:B&&(0,I.jsx)("div",{className:"col-12 justify-content-center",children:(0,I.jsx)("div",{className:"mb-3",children:(0,I.jsx)("div",{className:"row",children:[{label:"Work Hours",value:(0,x.fR)(P("checkIn")?k()(P("checkIn")).format("HH:mm:ss"):0,k()(P("checkOut")||k()()).format("HH:mm:ss"),(0,x.VP)(P("breaks")||0))||0},{label:"Total Break",value:(0,x.VP)(P("breaks"))+"m"||0}].map((e,l)=>(0,I.jsx)("div",{className:"col-12 col-sm-6",children:(0,I.jsx)("div",{className:"card border-1 zoom-in them-light shadow-sm m-1 ",children:(0,I.jsxs)("div",{className:"card-body text-center m-1 p-1",children:[(0,I.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam ",children:e.label}),(0,I.jsx)("h5",{className:"fw-semibold text-dark mb-0 fs-5",children:e.value||"-"})]})},l)}))})})})}),(0,I.jsxs)("form",{onSubmit:D(async e=>{N((0,v.iC)(!0));let l={employee_id:null===B||void 0===B?void 0:B.id,date:(0,x.qr)(null===e||void 0===e?void 0:e.dob1,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_DASH_TIME_FORMAT),check_in_time:null!==e&&void 0!==e&&e.checkIn?k()(e.checkIn).format("HH:mm"):null,check_out_time:null!==e&&void 0!==e&&e.checkOut?k()(e.checkOut).format("HH:mm"):null,breaks:Array.isArray(null===e||void 0===e?void 0:e.breaks)&&e.breaks.length>0?e.breaks.map(e=>({start:null!==e&&void 0!==e&&e.start?k()(e.start,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null,end:null!==e&&void 0!==e&&e.end?k()(e.end,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null})):[],lat:"0.000",log:"0.000",location_id:"TRACEWAVE"};(0,r.KT)(l).then(a=>{if((null===a||void 0===a?void 0:a.code)==h.NC.SUCCESS){N((0,v.iC)(!1)),(0,c.k1)(null===a||void 0===a?void 0:a.message);let i=E()(_e),d=i.find(e=>e.emp_id==(null===B||void 0===B?void 0:B.id));var s,t;if(d)d.checkInTimes=null!==e&&void 0!==e&&e.checkIn?[(0,x.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_in_time,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],d.checkOutTimes=null!==e&&void 0!==e&&e.checkOut?[(0,x.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_out_time,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],d.breaks=Array.isArray(null===e||void 0===e?void 0:e.breaks)&&(null===e||void 0===e||null===(s=e.breaks)||void 0===s?void 0:s.length)>0?null===e||void 0===e||null===(t=e.breaks)||void 0===t?void 0:t.map(e=>({start:null!==e&&void 0!==e&&e.start?(0,x.HB)(null===l||void 0===l?void 0:l.date,k()(e.start,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null,end:null!==e&&void 0!==e&&e.end?(0,x.HB)(null===l||void 0===l?void 0:l.date,k()(e.end,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null})):[];console.log("updatedList",i),fe(i),ye()}else(0,c.uU)(null===a||void 0===a?void 0:a.message)})}),children:[(0,I.jsxs)("div",{className:"row col-12 col-md-12 ",children:[(0,I.jsxs)("div",{className:"mb-3",children:[(0,I.jsxs)("label",{htmlFor:"gender1",className:"form-label fw-semibold",children:["Select Employee",(0,I.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,I.jsx)("div",{className:"input-group border rounded-1",children:(0,I.jsxs)("select",(0,s.A)((0,s.A)({id:"gender1",className:"form-control ps-2 p-2",autoComplete:"nope"},A(j.ic.EMPLOYEE,{required:"Select employee"})),{},{onChange:e=>{const l=e.target.value,a=y.find(e=>String(e.id)===String(l));console.log("selectedObjselectedObj",a),Y(a||null),R(null===j.ic||void 0===j.ic?void 0:j.ic.EMPLOYEE_ID,a.id)},children:[(0,I.jsx)("option",{value:"",children:"Select employee"}),(0,x.st)(y)]}))}),(0,I.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(l=U[j.ic.EMPLOYEE])||void 0===l?void 0:l.message})]}),(0,I.jsx)("div",{className:"mb-3",children:(0,I.jsxs)("div",{className:"col-12 ",children:[(0,I.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,I.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,I.jsx)(_.xI,{name:"dob1",control:W,rules:{required:"Date is required"},render:e=>{let{field:l}=e;return(0,I.jsx)(f.A,{id:"dob1",picker:"date",className:"form-control custom-datepicker w-100",format:null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT,value:l.value?k()(l.value,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT):null,onChange:e=>l.onChange(e?k()(e).format(null===j.ow||void 0===j.ow?void 0:j.ow.DATE_FORMAT):null)})}}),U.dob1&&(0,I.jsx)("small",{className:"text-danger",children:U.dob1.message})]})}),(0,I.jsx)("div",{className:"mb-3",children:(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-12 col-md-6",children:[(0,I.jsxs)("label",{htmlFor:"checkIn",className:"form-label fw-semibold",children:["Check In Time ",(0,I.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,I.jsx)(_.xI,{name:"checkIn",control:W,rules:{required:"Check In time is required"},render:e=>{let{field:l}=e;return(0,I.jsx)(f.A,(0,s.A)((0,s.A)({},l),{},{id:"checkIn",className:"form-control custom-datepicker w-100",picker:"time",format:null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),U.checkIn&&(0,I.jsx)("span",{className:"text-danger small",children:U.checkIn.message})]}),(0,I.jsxs)("div",{className:"col-12 col-md-6",children:[(0,I.jsxs)("label",{htmlFor:"checkOut",className:"form-label fw-semibold",children:["Check Out Time ",(0,I.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,I.jsx)(_.xI,{name:"checkOut",control:W,rules:{required:"Check Out time is required"},render:e=>{let{field:l}=e;return(0,I.jsx)(f.A,(0,s.A)((0,s.A)({},l),{},{id:"checkOut",className:"form-control custom-datepicker w-100",picker:"time",format:null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),U.checkOut&&(0,I.jsx)("span",{className:"text-danger small",children:U.checkOut.message})]})]})}),(0,I.jsxs)("div",{className:"mb-3",children:[$.map((e,l)=>(0,I.jsxs)("div",{className:"row g-3 mb-3",children:[(0,I.jsxs)("div",{className:"col-12  ".concat($.length>1?"col-md-5":"col-md-6"),children:[(0,I.jsxs)("label",{htmlFor:"breaks[".concat(l,"].start"),className:"form-label fw-semibold",children:["Break In Time ",(0,I.jsx)("span",{className:"text-danger",children:"*"})]}),(0,I.jsx)(_.xI,{name:"breaks.".concat(l,".start"),control:W,rules:{required:"Break In is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.A,{id:"breakIn-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?k()(a.value,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?k()(e).format(null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,I.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),(0,I.jsxs)("div",{className:"col-12 col-md-6",children:[(0,I.jsxs)("label",{htmlFor:"breaks[".concat(l,"].end"),className:"form-label fw-semibold",children:["Break Out Time ",(0,I.jsx)("span",{className:"text-danger",children:"*"})]}),(0,I.jsx)(_.xI,{name:"breaks.".concat(l,".end"),control:W,rules:{required:"Break Out is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.A,{id:"breakOut-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?k()(a.value,null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?k()(e).format(null===j.Hg||void 0===j.Hg?void 0:j.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,I.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),$.length>1&&(0,I.jsx)("div",{className:"col-12 col-md-1 d-flex align-items-end",children:(0,I.jsx)("button",{type:"button",className:"btn text-white bg-danger btn-sm mb-1",style:{border:"1px solid transparent"},onMouseEnter:e=>e.currentTarget.style.border="1px solid #fa896b",onMouseLeave:e=>e.currentTarget.style.border="1px solid transparent",onClick:()=>V(l),children:(0,I.jsx)(T.$8F,{})})})]},e.id)),(0,I.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>q({start:null,end:null}),children:"+ Add Break"})]})]}),(0,I.jsxs)("div",{className:"modal-footer justify-content-center mb-3",children:[(0,I.jsx)("button",{type:"button",className:"btn btn-danger m-2",onClick:()=>{ye()},children:"Cancel"}),(0,I.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})]})]})})}),Ne&&(0,I.jsx)("div",{className:"modal-backdrop fade show"}),C.isOpen&&(null===C||void 0===C?void 0:C.modalType)===h.bt.DELETE_MODEL&&(0,I.jsx)(b.A,{children:(0,I.jsx)(g.b3,{onConfirm:e=>{if(e){N((0,v.iC)(!0));let e={ticket_id:null===Z||void 0===Z?void 0:Z.id};(0,r.cC)(e).then(e=>{if(e.code==(null===h.NC||void 0===h.NC?void 0:h.NC.SUCCESS)){const l=null===O||void 0===O?void 0:O.filter(e=>e.id!==(null===Z||void 0===Z?void 0:Z.id));N((0,v.Qv)(l)),(0,x.MF)(N),N((0,v.iC)(!1)),(0,c.k1)(null===e||void 0===e?void 0:e.message)}else(0,c.uU)(null===e||void 0===e?void 0:e.message),N((0,v.iC)(!1))})}}})})]})}k().extend(S()),k().extend(C())},53856:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var l=["th","st","nd","rd"],a=e%100;return"["+e+(l[(a-20)%10]||l[a]||l[0])+"]"}}}()},75061:(e,l,a)=>{"use strict";a.d(l,{A:()=>o});var s=a(9950),t=a(82569),i=a(59091),d=a(44414);const o=e=>{let{per_page:l,pageCount:a,onPageChange:o,page:n,lableName:r}=e;const c=(0,t.wA)(),[m,u]=(0,s.useState)(),v=Math.ceil(a/l)||4;(0,s.useEffect)(()=>{u(n),c((0,i.MU)(!0))},[n]);const h=e=>{e>=1&&e<=v&&(u(e),o(e))};return(0,d.jsx)(d.Fragment,{children:l<a?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"showing-results border-top ",children:(0,d.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,d.jsxs)("ul",{className:"pagination ",children:[(0,d.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,d.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>h(1),disabled:1===m,children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,d.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,d.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>h(m-1),disabled:1===m,children:(0,d.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let l=m-Math.floor(1.5);l=Math.max(l,1);const s=Math.min(l+3-1,v);s-l<2&&(l=Math.max(s-3+1,1));for(let t=l;t<=s;t++){const l=m===t;if(a>0){const a="page-link font_18 ".concat(l?"text-dark active-link-pagination":"text-muted"),s="page-item ".concat(l?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,d.jsx)("li",{className:s,children:(0,d.jsx)("button",{className:a,onClick:()=>!l&&h(t),disabled:l,style:{color:"black",backgroundColor:"white"},children:t})},t))}}return e})(),(0,d.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,d.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>h(m+1),disabled:m===v,children:(0,d.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,d.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,d.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>h(v),disabled:m===v,children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,d.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*l,a)||0," of ",a," entries"]})]})})}):null})}},78476:(e,l,a)=>{"use strict";a(9950),a(30639),a(86160),a(14064),a(44414)}}]);