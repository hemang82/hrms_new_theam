(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[3129],{11976:()=>{},15928:(e,a,s)=>{"use strict";e.exports=s.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},34263:(e,a,s)=>{"use strict";s.d(a,{Z:()=>n});var l=s(73349),t=s.n(l),d=s(32003),i=s(52610);s(82391);let o={region:d.E7,accessKeyId:d.Fb,secretAccessKey:d.YE,endpoint:"https://s3.".concat(d.E7,".amazonaws.com/chatmyastrologer")};t().config.update(o),console.log("config",o);const n=async(e,a)=>{try{var s;const l=new FormData;l.append("file_type",a),l.append("files",e);const t=await(0,i.QM)(l);console.log("Upload s3 buckets");return(null===t||void 0===t||null===(s=t.data[0])||void 0===s?void 0:s.s3_object_url)||""}catch(l){throw console.log("uploadImageOnAWS",l),l}}},75061:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var l=s(9950),t=s(82569),d=s(59091),i=s(44414);const o=e=>{let{per_page:a,pageCount:s,onPageChange:o,page:n,lableName:c}=e;const r=(0,t.wA)(),[m,u]=(0,l.useState)(),v=Math.ceil(s/a)||4;(0,l.useEffect)(()=>{u(n),r((0,d.MU)(!0))},[n]);const p=e=>{e>=1&&e<=v&&(u(e),o(e))};return(0,i.jsx)(i.Fragment,{children:a<s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"showing-results border-top ",children:(0,i.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,i.jsxs)("ul",{className:"pagination ",children:[(0,i.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>p(1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,i.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>p(m-1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let a=m-Math.floor(1.5);a=Math.max(a,1);const l=Math.min(a+3-1,v);l-a<2&&(a=Math.max(l-3+1,1));for(let t=a;t<=l;t++){const a=m===t;if(s>0){const s="page-link font_18 ".concat(a?"text-dark active-link-pagination":"text-muted"),l="page-item ".concat(a?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,i.jsx)("li",{className:l,children:(0,i.jsx)("button",{className:s,onClick:()=>!a&&p(t),disabled:a,style:{color:"black",backgroundColor:"white"},children:t})},t))}}return e})(),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>p(m+1),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>p(v),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,i.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*a,s)||0," of ",s," entries"]})]})})}):null})}},78476:(e,a,s)=>{"use strict";s(9950),s(30639),s(86160),s(14064),s(44414)},98163:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>L});var l=s(89379),t=s(9950),d=s(82569),i=s(28429),o=s(42074),n=(s(20404),s(12815),s(3302),s(19594),s(13658),s(79739)),c=s(52610),r=s(82391),m=(s(15928),s(78476),s(72772),s(42380)),u=s(2401),v=(s(73907),s(59091)),p=s(32003),h=s(45397),x=s(70591),b=s(23172),j=s(19030),N=s(75061),g=s(82543),f=s(9449),y=s(60984),w=s(4159),_=s.n(w),A=(s(90923),s(53856),s(25495)),S=(s(34263),s(90607)),E=s(29949),k=(s(77923),s(59051)),C=s.n(k),T=s(44414);function L(){var e,a,s,w;let k=(0,i.Zp)();const L=(0,d.wA)(),[R,D]=(0,t.useState)(0),[F,M]=(0,t.useState)(""),[z,P]=(0,t.useState)(!1),{leaveList:{data:O}}=(0,d.d4)(e=>e.masterslice),{customerList:{data:V}}=(0,d.d4)(e=>e.masterslice),{customModel:q}=(0,d.d4)(e=>e.masterslice),{register:I,handleSubmit:W,setValue:Y,clearErrors:B,reset:U,watch:H,trigger:K,control:G,formState:{errors:Q}}=(0,f.mN)(),{register:J,handleSubmit:Z,formState:{errors:X},reset:$}=(0,f.mN)(),{register:ee,handleSubmit:ae,reset:se,formState:{errors:le}}=(0,f.mN)(),te=[{key:"",value:"ALL STATUS"},{key:0,value:"Pending"},{key:1,value:"Approved"},{key:2,value:"Rejected"}],[de,ie]=(0,t.useState)({}),[oe,ne]=(0,t.useState)(!1),[ce,re]=(0,t.useState)(""),[me,ue]=((0,h.A)(ce,p.dA),(0,t.useState)({global:{value:""}})),[ve,pe]=(0,t.useState)(!1),[he,xe]=(0,t.useState)(!1),[be,je]=(0,t.useState)(!1),[Ne,ge]=(0,t.useState)(te[0]),[fe,ye]=(0,t.useState)(null),[we,_e]=(0,t.useState)(-1),[Ae,Se]=(0,t.useState)(null),[Ee,ke]=(0,t.useState)(null),[Ce,Te]=(0,t.useState)(10),[Le,Re]=(0,t.useState)(1),[De,Fe]=(0,t.useState)(!1),[Me,ze]=(0,t.useState)(!1),[Pe,Oe]=(0,t.useState)(null),[Ve,qe]=(0,t.useState)(""),[Ie,We]=(0,t.useState)(_()()),[Ye,Be]=(0,t.useState)(!1),[Ue,He]=(0,t.useState)(O),[Ke,Ge]=(0,t.useState)(g.wz[0]);(0,t.useEffect)(()=>{var e;const a={emp_leave_company:null===(e=g.wz[0])||void 0===e?void 0:e.key};0===(null===V||void 0===V?void 0:V.length)&&L((0,v.hI)(a)),ge({})},[]),(0,t.useEffect)(()=>{let e={start_date:Ae?(0,x.qr)(Ae,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:Ee?(0,x.qr)(Ee,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,status:null===Ne||void 0===Ne?void 0:Ne.key};const a=(null===O||void 0===O?void 0:O.length)>0&&(null===O||void 0===O?void 0:O.filter(a=>{let s=!0;""!==e.status&&null!==e.status&&void 0!==e.status&&(s=Number(a.status)===Number(null===e||void 0===e?void 0:e.status));let l=!0;if(null!==e&&void 0!==e&&e.start_date&&null!==e&&void 0!==e&&e.end_date){const s=new Date(null===a||void 0===a?void 0:a.start_date),t=new Date(null===a||void 0===a?void 0:a.end_date),d=new Date(null===e||void 0===e?void 0:e.start_date),i=new Date(null===e||void 0===e?void 0:e.end_date);l=t>=d&&s<=i}return s&&l}));He(a)},[O,Ee,Ne]);const Qe=(e,a)=>{xe(!0),ie((0,l.A)((0,l.A)({},e),{},{actionType:a}))},Je=()=>{xe(!1),ie({})},Ze=()=>{pe(!1)},Xe=e=>{pe(!0)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"container-fluid mw-100",children:[(0,T.jsx)(n.A,{title:"Leave List",header:"Leave List"}),(0,T.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,T.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,T.jsxs)("div",{className:"row g-3",children:[(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,T.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,T.jsx)("input",{type:"text",className:"form-control ps-5  ",id:"input-search",placeholder:"Search leave ...",value:ce,onChange:e=>{const a=e.target.value;let s=(0,l.A)({},me);s.global&&(s.global.value=a),ue(s),Re(1),re(null===a||void 0===a?void 0:a.trim())}}),(0,T.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-1"}),(0,T.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,T.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,T.jsx)(y.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:Ae,onChange:e=>{Se(e),ke(null)}})]}),(0,T.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,T.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,T.jsx)(y.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:Ee,onChange:e=>{ke(e),Re(1)},disabled:!Ae,disabledDate:e=>!!Ae&&e.isBefore(Ae,"day")})]}),(0,T.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,T.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Leave Status"}),(0,T.jsxs)("div",{className:"btn-group w-100",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===Ne||void 0===Ne?void 0:Ne.value)||"Select Status"}),(0,T.jsx)("ul",{className:"dropdown-menu w-100",children:null===te||void 0===te?void 0:te.map(e=>(0,T.jsx)("li",{children:(0,T.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>(e=>{ge(e),Re(1)})(e),children:null===e||void 0===e?void 0:e.value})},e.value))})]})]}),(0,T.jsxs)("div",{className:"col-12 col-md-6 col-lg-1 mb-3 mb-md-0",children:[(0,T.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Status"}),(0,T.jsxs)("div",{className:"btn-group w-100",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===Ke||void 0===Ke?void 0:Ke.value)||"Select Status"}),(0,T.jsx)("ul",{className:"dropdown-menu w-100 border",children:null===g.wz||void 0===g.wz?void 0:g.wz.map(e=>(0,T.jsx)("li",{children:(0,T.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>{(async e=>{try{const a={emp_leave_company:null===e||void 0===e?void 0:e.key};await L((0,v.NI)(a))}finally{}})(e),Ge(e)},children:null===e||void 0===e?void 0:e.value})},e.key))})]})]})]})}),(0,T.jsxs)("div",{className:"card p-3",children:[(0,T.jsxs)("div",{className:"row border-bottom pb-3 ",children:[(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-3"}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-9",children:(0,T.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-end align-items-stretch gap-2 ",children:[(0,T.jsxs)("div",{id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-centermt-md-0 w-md-auto ",style:{height:"40px"},onClick:()=>{k(null===S.R||void 0===S.R?void 0:S.R.ADD_LEAVE)},children:[(0,T.jsx)("span",{className:"me-1",children:(0,T.jsx)(A.QwN,{style:{fontSize:"1.2rem"}})}),(0,T.jsx)("span",{className:"fw-semibold",children:"Add Leave"})]}),(0,T.jsxs)(o.N_,{id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center mt-3 mt-md-0  w-md-auto ",style:{height:"40px"},onClick:()=>{Xe()},children:[(0,T.jsx)("span",{className:"me-1",children:(0,T.jsx)(A.QwN,{style:{fontSize:"1.2rem"}})}),(0,T.jsx)("span",{className:"fw-semibold",children:"Add Leave Balance"})]})]})}),(0,T.jsx)("div",{className:"col-md-8 col-xl-9 text-end d-flex justify-content-md-end justify-content-center mt-3 mt-md-0 gap-3"})]}),(0,T.jsxs)("div",{className:"table-responsive",children:[(0,T.jsxs)(m.b,{value:(null===Ue||void 0===Ue?void 0:Ue.length)>0?Ue:[],paginator:!0,rows:15,globalFilter:ce,sortField:fe,sortOrder:we,onSort:e=>{console.log("Sort event triggered:",e),ye(null===e||void 0===e?void 0:e.sortField),_e(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===Ue||void 0===Ue?void 0:Ue.length)>50?[20,30,50,null===Ue||void 0===Ue?void 0:Ue.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:oe,emptyMessage:(0,T.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Leave Not Found."}),children:[(0,T.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>(null===a||void 0===a?void 0:a.rowIndex)+1,showFilterMenu:!0,sortable:!0}),(0,T.jsx)(u.V,{field:"show_employee_id",header:"Employee ID",style:{minWidth:"10rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,T.jsx)("span",{children:(null===e||void 0===e?void 0:e.show_employee_id)||"-"})}),(0,T.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,T.jsxs)("span",{className:"me-2",children:[(0,x.sz)(e.name)||"-"," "]})}),(0,T.jsx)(u.V,{field:"start_date",header:"From",style:{minWidth:"8rem"},body:e=>(0,T.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,T.jsx)(u.V,{field:"end_date",header:"To",style:{minWidth:"8em"},body:e=>(0,T.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,T.jsx)(u.V,{field:"days",header:"Days",style:{minWidth:"6rem"},body:e=>(0,T.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e?void 0:e.days)||"-"," "]})}),(0,T.jsx)(u.V,{field:"leave_type",header:"Type",style:{minWidth:"6rem"},body:e=>(0,T.jsx)("span",{className:"me-2",children:(null===e||void 0===e?void 0:e.leave_type)||"-"})}),(0,T.jsx)(u.V,{field:"created_at",header:"Request Date",style:{minWidth:"8rem"},body:e=>(0,T.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.created_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,T.jsx)(u.V,{field:"is_active","data-pc-section":"root",header:"Status",style:{minWidth:"8rem"},body:e=>(0,T.jsx)(T.Fragment,{children:3==(null===e||void 0===e?void 0:e.user_status)?(0,T.jsx)("span",{className:"p-tag p-component  badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",children:(0,T.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Cancel"})}):1==(null===e||void 0===e?void 0:e.status)?(0,T.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.SUCCESS),"data-pc-name":"tag","data-pc-section":"root",children:(0,T.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Approved"})}):2==(null===e||void 0===e?void 0:e.status)?(0,T.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",children:(0,T.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Rejected"})}):(0,T.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.WARNING),"data-pc-name":"tag","data-pc-section":"root",children:(0,T.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Pending"})})})}),"1"==(0,x._S)(null===p.Ay||void 0===p.Ay?void 0:p.Ay.ROLE_KEY)&&(0,T.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>(0,T.jsx)("div",{className:"action-btn d-flex align-items-center",children:0==(null===e||void 0===e?void 0:e.status)&&3!=(null===e||void 0===e?void 0:e.user_status)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("a",{className:"text-success cursor_pointer me-2",onClick:()=>{Qe(e,"approved")},children:(0,T.jsx)("i",{className:"ti ti-check fs-7"})}),(0,T.jsx)("a",{className:"text-danger cursor_pointer",onClick:()=>{Qe(e,"cancel")},children:(0,T.jsx)("i",{className:"ti ti-x fs-7"})})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("a",{className:"text-success me-2 disabled-status",children:(0,T.jsx)("i",{className:"ti ti-check fs-7"})}),(0,T.jsx)("a",{className:"text-danger ".concat(1==(null===e||void 0===e?void 0:e.status)&&e.start_date&&C()(e.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT).isAfter(C()(),"day")?"cursor_pointer":"disabled-status"),onClick:()=>{1==(null===e||void 0===e?void 0:e.status)&&Qe(e,"cancel")},children:(0,T.jsx)("i",{className:"ti ti-x fs-7"})})]})})}),(0,T.jsx)(u.V,{field:"status",header:"View",style:{minWidth:"6rem"},body:e=>(0,T.jsx)("div",{className:"action-btn",children:(0,T.jsx)(o.N_,{onClick:()=>{ie(e),je(!0)},state:e,className:"text-custom-theam edit cursor_pointer",children:(0,T.jsx)("i",{className:"ti ti-eye fs-7"})})})})]}),(0,T.jsx)("div",{className:"",children:(0,T.jsx)(N.A,{per_page:50,pageCount:null===O||void 0===O?void 0:O.total_count,onPageChange:e=>{Re(e)},page:Le})})]})]})]})]}),(0,T.jsx)("div",{className:"modal custom-modal  ".concat(ve?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,T.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,T.jsxs)("div",{className:"modal-content border-0",children:[(0,T.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,T.jsxs)("h6",{className:"modal-title fs-5",children:["Add Leave Balance"," "]}),(0,T.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Ze()}})]}),(0,T.jsx)("div",{className:"modal-body",children:(0,T.jsx)("form",{onSubmit:W(async e=>{L((0,v.iC)(!0));let a={balance:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_BALANCE],employee_id:e[null===g.ic||void 0===g.ic?void 0:g.ic.EMPLOYEE],leave_type:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_TYPE]};(0,c.K2)(a).then(e=>{(null===e||void 0===e?void 0:e.code)==p.NC.SUCCESS?(U(),(0,r.k1)(null===e||void 0===e?void 0:e.message),Ze(),L((0,v.iC)(!1)),L((0,v.NI)({}))):(L((0,v.iC)(!1)),(0,r.uU)(null===e||void 0===e?void 0:e.message))})}),children:(0,T.jsx)("div",{className:"col-lg-12",children:(0,T.jsx)("div",{className:"card-body p-4",children:(0,T.jsxs)("div",{className:"row g-3",children:[(0,T.jsx)("div",{className:"col-12 col-md-6",children:(0,T.jsxs)("div",{className:"mb-1",children:[(0,T.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Select Employee",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group border rounded-1",children:(0,T.jsx)("select",(0,l.A)((0,l.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},I(g.ic.EMPLOYEE,{required:"Select employee"})),{},{children:(0,x.st)(V)}))}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=Q[g.ic.EMPLOYEE])||void 0===e?void 0:e.message})]})}),(0,T.jsx)("div",{className:"col-12 col-md-6",children:(0,T.jsxs)("div",{className:"mb-1",children:[(0,T.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Leave Type",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group border rounded-1",children:(0,T.jsx)("select",(0,l.A)((0,l.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},I(g.ic.LEAVE_TYPE,{required:"Select leave type"})),{},{children:(0,x.MT)(g.SB)}))}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(a=Q[g.ic.LEAVE_TYPE])||void 0===a?void 0:a.message})]})}),(0,T.jsxs)("div",{className:"mb-1",children:[(0,T.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Leave Balance",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group border rounded-1",children:(0,T.jsx)("input",(0,l.A)({type:"number",step:"0.01",className:"form-control ps-2",placeholder:"Enter leave balance",autoComplete:"false"},I(g.ic.LEAVE_BALANCE,{required:"Enter leave balance"})))}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(s=Q[g.ic.LEAVE_BALANCE])||void 0===s?void 0:s.message})]}),(0,T.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Ze()},children:"Cancel"}),(0,T.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),ve&&(0,T.jsx)("div",{className:"modal-backdrop fade show"}),(0,T.jsx)("div",{className:"modal custom-modal  ".concat(he?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,T.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,T.jsxs)("div",{className:"modal-content border-0",children:[(0,T.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,T.jsxs)("h6",{className:"modal-title",children:["approved"===(null===de||void 0===de?void 0:de.actionType)?"Are you sure approve leave ?":"Rejection Reason"," "]}),(0,T.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Je()}})]}),(0,T.jsx)("div",{className:"modal-body",children:(0,T.jsx)("form",{onSubmit:Z(async e=>{console.log("handleStatus dataaa",e),P(!0);let a={leaveId:null===de||void 0===de?void 0:de.leave_id,status:"approved"===(null===de||void 0===de?void 0:de.actionType)?"1":"2",admin_reason:null!==e&&void 0!==e&&e.reason?null===e||void 0===e?void 0:e.reason:""};(0,c.pq)(a).then(e=>{if(e.code==p.NC.SUCCESS){(0,r.k1)(null===e||void 0===e?void 0:e.message);let a=(null===O||void 0===O?void 0:O.length)>0&&(null===O||void 0===O?void 0:O.map(e=>(null===de||void 0===de?void 0:de.leave_id)===e.leave_id?(0,l.A)((0,l.A)({},e),{},{status:"approved"===(null===de||void 0===de?void 0:de.actionType)?"1":"2"}):e));L((0,v.j)(a)),ie({}),Je(),P(!1)}else(0,r.uU)(e.message)})}),children:(0,T.jsx)("div",{className:"col-lg-12",children:(0,T.jsx)("div",{className:"card-body pt-4 p-2 ",children:(0,T.jsxs)("div",{className:"row g-3",children:["approved"===(null===de||void 0===de?void 0:de.actionType)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"text-center mb-3",children:(0,T.jsx)(E.rfp,{style:{fontSize:"2rem"}})}),(0,T.jsx)("p",{className:"fw-semibold fs-4 text-center",children:"Are you sure you want to approve this leave?"})]}):(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:"mb-1",children:[(0,T.jsxs)("label",{htmlFor:"reason",className:"form-label fw-semibold",children:["Reason",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group border rounded-1",children:(0,T.jsx)("textarea",(0,l.A)({id:"reason",className:"form-control ps-2",placeholder:"Enter reason",rows:3},J(g.ic.REASON,{required:"Enter reason"})))}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(w=X[g.ic.REASON])||void 0===w?void 0:w.message})]})}),(0,T.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Je()},children:"Cancel"}),(0,T.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[" ","approved"===(null===de||void 0===de?void 0:de.actionType)?"Yes, Approve Leave":"Submit"]})]})]})})})})})]})})}),he&&(0,T.jsx)("div",{className:"modal-backdrop fade show"}),(0,T.jsx)("div",{className:"modal custom-modal  ".concat(be?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,T.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,T.jsxs)("div",{className:"modal-content border-0",children:[(0,T.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,T.jsx)("h6",{className:"modal-title fs-6",children:" Leave Details "}),(0,T.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{je(!1),ie({})}})]}),(0,T.jsx)("div",{className:"modal-body ",children:(0,T.jsxs)("div",{className:"row m-2",children:[[{label:"Leave Type",value:null===de||void 0===de?void 0:de.leave_type},{label:"Request Date",value:(0,x.Yq)(null===de||void 0===de?void 0:de.created_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"Days",value:null===de||void 0===de?void 0:de.days},{label:"Start Date",value:(0,x.Yq)(null===de||void 0===de?void 0:de.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"End Date",value:(0,x.Yq)(null===de||void 0===de?void 0:de.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)}].map((e,a)=>(0,T.jsx)("div",{className:"col-md-4 mb-4",children:e.value&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{className:"mb-1 fontSize14",children:e.label}),(0,T.jsx)("h6",{className:"fw-meduim mb-0 fontSize16 text-capitalize",children:e.value||"N/A"})]})},a)),(null===de||void 0===de?void 0:de.reason)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:"".concat(null!==de&&void 0!==de&&de.admin_reason?"col-md-6":"col-md-12"," mb-4"),children:[(0,T.jsx)("p",{className:"mb-1 fontSize14",children:"Reason"}),(0,T.jsx)("h6",{className:"fw-meduim mb-0 fontSize16 text-capitalize",children:(0,x.J2)(de.reason?de.reason:"-")})]})}),(null===de||void 0===de?void 0:de.admin_reason)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,T.jsx)("p",{className:"mb-1 fontSize14",children:"Admin Reason"}),(0,T.jsx)("h6",{className:"fw-meduim mb-0 fontSize16 text-capitalize",children:(0,x.J2)(de.admin_reason?de.admin_reason:"-")||"N/A"})]})})]})})]})})}),be&&(0,T.jsx)("div",{className:"modal-backdrop fade show"}),q.isOpen&&(null===q||void 0===q?void 0:q.modalType)===p.bt.DELETE_MODEL&&(0,T.jsx)(b.A,{children:(0,T.jsx)(j.b3,{onConfirm:e=>{if(e){L((0,v.iC)(!0));null===de||void 0===de||de.id}}})})]})}}}]);