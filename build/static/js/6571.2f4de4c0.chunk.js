"use strict";(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[6571],{76571:(e,l,s)=>{s.r(l),s.d(l,{default:()=>E});var i=s(89379),a=s(9950),d=s(28429),o=s(9449),n=s(82391),r=s(52610),c=s(79739),t=s(32003),m=s(70591),u=s(82543),v=s(82569),N=s(59091),h=s(60984),p=s(4159),x=s.n(p),b=s(90607),j=s(44414);function E(){var e,l,s,p,E,A,g,f,S,M;const _=(0,d.Zp)(),R=(0,v.wA)(),w=(0,d.zy)();var y=null===w||void 0===w?void 0:w.state;const[D,C]=(0,a.useState)(x()()),[T,O]=(0,a.useState)(x()()),[L,I]=(0,a.useState)([]),{register:H,handleSubmit:F,setValue:G,clearErrors:P,trigger:Y,formState:{errors:U}}=(0,o.mN)();(0,a.useEffect)(()=>{y&&(R((0,N.iC)(!0)),(0,r.JG)({employee_id:null===y||void 0===y?void 0:y.id.toString()}).then(e=>{if((null===e||void 0===e?void 0:e.code)==t.NC.SUCCESS){let l=null===e||void 0===e?void 0:e.data;G(null===u.ic||void 0===u.ic?void 0:u.ic.NAME,null===l||void 0===l?void 0:l.name),G(null===u.ic||void 0===u.ic?void 0:u.ic.EMAIL,null===l||void 0===l?void 0:l.email),G(null===u.ic||void 0===u.ic?void 0:u.ic.MOBILE,null===l||void 0===l?void 0:l.phone_number),G(null===u.ic||void 0===u.ic?void 0:u.ic.CURRENT_ADDRESH,null===l||void 0===l?void 0:l.location),G(null===u.ic||void 0===u.ic?void 0:u.ic.GENDER,(null===l||void 0===l?void 0:l.gender)||"M"),C(null!==l&&void 0!==l&&l.birth_date?x()(l.birth_date):null),G(null===u.ic||void 0===u.ic?void 0:u.ic.PASSWORD,null===l||void 0===l?void 0:l.password),G(null===u.ic||void 0===u.ic?void 0:u.ic.MONTHLY_SALARY,null===l||void 0===l?void 0:l.salary_monthly),G(null===u.ic||void 0===u.ic?void 0:u.ic.SENIOR_NAME,null===l||void 0===l?void 0:l.senior_name),G(null===u.ic||void 0===u.ic?void 0:u.ic.DESIGNATION,null===l||void 0===l?void 0:l.designation),O(null!==l&&void 0!==l&&l.joining_date?x()(l.joining_date):null),R((0,N.iC)(!1))}})),(0,r.$U)().then(e=>{if((null===e||void 0===e?void 0:e.code)==t.NC.SUCCESS&&(I(null===e||void 0===e?void 0:e.data),y)){var l,s;const i=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.find(e=>e.id==y.department))||void 0===s?void 0:s.id;i&&G(null===u.ic||void 0===u.ic?void 0:u.ic.DEPARTMENT,i.toString())}})},[y]);const k=async(e,l)=>{let s=l;e===u.ic.PANCARD?s=l.replace(u.mZ.ONCHANGE_PANNUMBER_REGEX,""):e===u.ic.ADHARCARD?s=l.replace(u.mZ.ONCHANGE_AADHAR_REGEX,""):e!==u.ic.MOBILE&&e!==u.ic.MONTHLY_SALARY||(s=l.replace(u.mZ.ONCHANGE_MOBILE_REGEX,"")),G(e,s),P(e),await Y(e)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"container-fluid mw-100",children:[(0,j.jsx)(c.A,{title:y?"Edit Employee":"Add Employee",header:"Employee List",subHeaderOnlyView:y?"Edit Employee":"Add Employee"}),(0,j.jsx)("div",{className:"row m-2",children:(0,j.jsx)("div",{className:"col-12 justify-content-center",children:(0,j.jsx)("div",{className:"row justify-content-center ",children:(0,j.jsx)("form",{onSubmit:F(async e=>{try{R((0,N.iC)(!0));let s={name:e[u.ic.NAME],email:e[u.ic.EMAIL],phone_number:e[u.ic.MOBILE],location:e[u.ic.CURRENT_ADDRESH],birth_date:(0,m.qr)(D,null===u.ow||void 0===u.ow?void 0:u.ow.DATE_DASH_TIME_FORMAT),gender:e[u.ic.GENDER],password:e[u.ic.PASSWORD],salary_monthly:e[u.ic.MONTHLY_SALARY],designation:e[u.ic.DESIGNATION],senior_name:e[u.ic.SENIOR_NAME],department:e[u.ic.DEPARTMENT],joining_date:(0,m.qr)(T,null===u.ow||void 0===u.ow?void 0:u.ow.DATE_DASH_TIME_FORMAT),profile_photo:"test.jpg"};var l;if(y)s.employee_id=null===y||void 0===y||null===(l=y.id)||void 0===l?void 0:l.toString(),s.action="admin",(0,r.Ec)(s).then(e=>{(null===e||void 0===e?void 0:e.code)==t.NC.SUCCESS?((0,n.k1)(null===e||void 0===e?void 0:e.message),_(null===b.R||void 0===b.R?void 0:b.R.EMPLOYEE_LIST),R((0,N.iC)(!1))):((0,n.uU)(e.message),R((0,N.iC)(!1)))});else(0,r.L)(s).then(e=>{(null===e||void 0===e?void 0:e.code)==t.NC.SUCCESS?((0,n.k1)(null===e||void 0===e?void 0:e.message),_(null===b.R||void 0===b.R?void 0:b.R.EMPLOYEE_LIST),R((0,N.iC)(!1))):((0,n.uU)(e.message),R((0,N.iC)(!1)))})}catch(s){(0,n.uU)("Somthing went wrong")}}),children:(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsx)("div",{className:"row justify-content-center",children:(0,j.jsx)("div",{className:"col-auto",children:(0,j.jsx)("div",{className:"card shadow-sm custom-card"})})}),(0,j.jsxs)("div",{className:"row col-12 ",children:[(0,j.jsxs)("div",{className:"col-md-6 ",children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Name ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)({type:"text",className:"form-control ps-2",placeholder:"Enter Full Name",onKeyPress:n.$u,autoComplete:"nope"},H(u.ic.NAME,(0,m.DX)(u.ic.NAME,(0,n.TM)("Enter full name")))))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=U[u.ic.NAME])||void 0===e?void 0:e.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Mobile Number ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)((0,i.A)({name:u.ic.MOBILE,type:"text",className:"form-control ps-2",placeholder:"Enter Mobile Number",autoComplete:"nope"},H(u.ic.MOBILE,(0,m.DX)(u.ic.MOBILE,(0,n.TM)("Enter mobile number")))),{},{onChange:e=>k(u.ic.MOBILE,e.target.value),maxLength:10}))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(l=U[u.ic.MOBILE])||void 0===l?void 0:l.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Gender ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsxs)("select",(0,i.A)((0,i.A)({className:"form-control ps-2",autoComplete:"nope"},H(u.ic.GENDER,{required:"Please Enter Gender"})),{},{children:[(0,j.jsx)("option",{value:"",children:"Select Gender"}),(0,j.jsx)("option",{value:"M",children:"Male"}),(0,j.jsx)("option",{value:"F",children:"Female"})]}))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(s=U[u.ic.GENDER])||void 0===s?void 0:s.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Designation ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)({type:"text",className:"form-control ps-2",placeholder:"Enter Designation",autoComplete:"nope"},H(u.ic.DESIGNATION,(0,m.DX)(u.ic.DESIGNATION,(0,n.TM)("Enter Designation")))))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(p=U[u.ic.DESIGNATION])||void 0===p?void 0:p.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Monthly Salary ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)((0,i.A)({name:u.ic.MONTHLY_SALARY,type:"text",className:"form-control ps-2",placeholder:"Enter Monthly Salary",autoComplete:"nope"},H(u.ic.MONTHLY_SALARY,(0,m.DX)(u.ic.MONTHLY_SALARY,(0,n.TM)("Enter Monthly Salary")))),{},{onChange:e=>k(u.ic.MONTHLY_SALARY,e.target.value),maxLength:10}))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(E=U[u.ic.MONTHLY_SALARY])||void 0===E?void 0:E.message})]})]}),(0,j.jsxs)("div",{className:"col-md-6",children:[(0,j.jsxs)("div",{className:"mb-4 ",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Password",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)({type:"text",className:"form-control ps-2",id:"inputPassword",placeholder:"Enter password",onChange:m.CA},H(u.ic.PASSWORD,(0,m.z9)(u.Vu.PASSWORD))))}),(0,j.jsx)("label",{className:"errorc pt-1",children:null===(A=U[u.ic.PASSWORD])||void 0===A?void 0:A.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Email Address",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)((0,i.A)({name:u.ic.EMAIL,type:"text",className:"form-control ps-2",placeholder:"Enter Email Address",autoComplete:"nope"},H(u.ic.EMAIL,(0,m.z9)(u.ic.EMAIL,(0,n.TM)("Enter email address")))),{},{onChange:e=>k(u.ic.EMAIL,e.target.value)}))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(g=U[u.ic.EMAIL])||void 0===g?void 0:g.message})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"gender1",className:"form-label fw-semibold",children:["Department",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsxs)("select",(0,i.A)((0,i.A)({id:"gender1",className:"form-control ps-2 p-2",autoComplete:"nope"},H(u.ic.DEPARTMENT,{required:"Select department"})),{},{value:(null===y||void 0===y?void 0:y.department)||"",children:[(0,j.jsx)("option",{value:"",children:"Select department"}),(null===L||void 0===L?void 0:L.length)>0&&(null===L||void 0===L?void 0:L.map((e,l)=>(0,j.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.dept_name},l)))]}))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(f=U[u.ic.DEPARTMENT])||void 0===f?void 0:f.message})]}),(0,j.jsxs)("div",{className:"row mb-4 g-3",children:[(0,j.jsxs)("div",{className:"col-12 col-md-6",children:[(0,j.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date of Birth ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)(h.A,{id:"dob1",className:"form-control custom-datepicker w-100",format:null===u.ow||void 0===u.ow?void 0:u.ow.DATE_FORMAT,value:D,onChange:e=>C(e),allowClear:!1,picker:"date"})]}),(0,j.jsxs)("div",{className:"col-12 col-md-6",children:[(0,j.jsxs)("label",{htmlFor:"dob2",className:"form-label fw-semibold",children:["Joining Date ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)(h.A,{id:"dob2",className:"form-control custom-datepicker w-100",format:null===u.ow||void 0===u.ow?void 0:u.ow.DATE_FORMAT,value:T,onChange:e=>O(e),allowClear:!1,picker:"date"})]})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Senior Name ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("input",(0,i.A)({type:"text",className:"form-control ps-2",placeholder:"Enter senior name",autoComplete:"nope"},H(u.ic.SENIOR_NAME,(0,m.DX)(u.ic.SENIOR_NAME,(0,n.TM)("Enter senior name")))))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(S=U[u.ic.SENIOR_NAME])||void 0===S?void 0:S.message})]})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Address ",(0,j.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,j.jsx)("div",{className:"input-group border rounded-1",children:(0,j.jsx)("textarea",(0,i.A)({className:"form-control ps-2",placeholder:"Enter Address",autoComplete:"off"},H(u.ic.CURRENT_ADDRESH,(0,m.DX)(u.ic.CURRENT_ADDRESH,(0,n.TM)("Enter address")))))}),(0,j.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(M=U[u.ic.CURRENT_ADDRESH])||void 0===M?void 0:M.message})]}),(0,j.jsx)("div",{className:"modal-footer justify-content-center mb-3",children:(0,j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})})})})})]})})}},79739:(e,l,s)=>{s.d(l,{A:()=>c});s(9950);var i=s(28429),a=s(42074),d=s(32003),o=s(82569),n=s(59091),r=(s(90607),s(44414));function c(e){let{title:l,header:s,subHeader:c,subHeaderOnlyView:t}=e;const{slidebarToggle:m}=(0,o.d4)(e=>e.masterslice),u=(0,i.zy)(),v=(0,o.wA)(),N=((0,i.Zp)(),null===u||void 0===u?void 0:u.pathname);let h=null===N||void 0===N?void 0:N.split("/");var p=JSON.parse(localStorage.getItem(d.Ay.AUTH_KEY));return console.log("userDetailsuserDetails",p),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"card bg-light-info shadow-none border-0 position-relative overflow-hidden make-header",children:(0,r.jsx)("div",{className:"card-body px-4 py-3",children:(0,r.jsxs)("div",{className:"row align-items-center",children:[(0,r.jsxs)("div",{className:"col-12 col-md-9 d-flex align-items-center gap-3 mb-3 mb-md-0",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-light d-flex align-items-center justify-content-center p-2 shadow-sm rounded-circle",onClick:()=>{v((0,n.ST)(!m)),(()=>{const e=document.querySelector("body");if(e&&e.setAttribute("data-sidebartype",m?"mini-sidebar":"full"),window.innerWidth<=992){const e=document.getElementById("left_side_menu_id");e&&(e.style.display=m?"none":"block")}})()},children:(0,r.jsx)("i",{className:"ti ti-menu-2 fs-5 text-custom-theam"})}),(0,r.jsx)("nav",{"aria-label":"breadcrumb",className:"ms-2",children:(0,r.jsxs)("ol",{className:"breadcrumb mb-0",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)(a.N_,{to:"/dashboard",className:"text-decoration-none",children:"Dashboard"})}),(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)(a.N_,{to:"/".concat(null===h||void 0===h?void 0:h[1]),className:"text-decoration-none",children:s})}),c&&(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)(a.N_,{to:N,className:"text-decoration-none",children:c})}),t&&(0,r.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:t})]})})]}),(0,r.jsxs)("div",{className:"col-12 col-md-3 d-flex justify-content-md-end justify-content-center ",children:[(0,r.jsx)("img",{src:(null===p||void 0===p?void 0:p.profile_image)||(null===d.Ay||void 0===d.Ay?void 0:d.Ay.DEFAULT_IMAGE),alt:"User Avatar",className:"rounded-circle me-2 d-none d-sm-block",style:{width:"40px",height:"40px",objectFit:"cover"}}),(0,r.jsxs)("div",{className:"d-none d-sm-block text-end",children:[(null===p||void 0===p?void 0:p.email)&&(0,r.jsx)("div",{className:"fw-semibold mb-0 ",style:{fontSize:"0.9rem"},children:null===p||void 0===p?void 0:p.email}),(null===p||void 0===p?void 0:p.role)&&(0,r.jsx)("div",{className:"fw-semibold mb-0 text-capitalize text-custom-theam",style:{fontSize:"0.9rem"},children:1==(null===p||void 0===p?void 0:p.role)?"Admin":"Sub Admin"})]})]})]})})})})}}}]);