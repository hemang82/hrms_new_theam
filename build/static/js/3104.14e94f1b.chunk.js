"use strict";(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[3104],{23172:(e,a,s)=>{s.d(a,{A:()=>n});s(9950);var l=s(28429),d=(s(32003),s(82569)),t=s(70591),i=s(82543),o=s(44414);const n=e=>{let{children:a}=e;(0,l.Zp)(),(0,l.zy)();const s=(0,d.wA)(),{customModel:{isOpen:n,modalType:c}}=(0,d.d4)(e=>e.masterslice);return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"modal custom_model ".concat(n?"fade show d-flex align-items-center justify-content-center":"d-none"),id:"delete-account",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,o.jsx)("form",{children:(0,o.jsx)("div",{className:i.bt.DELETE_MODEL===c||i.bt.LOGOUT_MODEL===c?"modal-dialog modal-md modal-dialog-centered":"modal-dialog modal-lg modal-dialog-centered",children:(0,o.jsxs)("div",{className:i.bt.DELETE_MODEL===c||i.bt.LOGOUT_MODEL===c?"modal-content modal-filled":"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header d-flex align-items-center",children:[(0,o.jsx)("h4",{className:"modal-title",id:"myLargeModalLabel"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{(0,t.MF)(s)}})]}),(0,o.jsx)("div",{className:"modal-body",children:a})]})})})}),n&&(0,o.jsx)("div",{className:"modal-backdrop fade show"})]})}},45397:(e,a,s)=>{s.d(a,{A:()=>d});var l=s(9950);const d=(e,a)=>{const[s,d]=(0,l.useState)(e);return(0,l.useEffect)(()=>{const s=setTimeout(()=>{d(e)},a);return()=>{clearTimeout(s)}},[e]),s}},73104:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var l=s(89379),d=s(9950),t=s(82569),i=s(28429),o=s(42074),n=s(79739),c=s(52610),r=s(82391),m=s(42380),u=s(2401),p=(s(73907),s(59091)),h=s(32003),x=s(45397),v=s(70591),b=s(23172),j=s(19030),N=s(82543),y=s(25495),g=s(9449),f=s(60984),w=s(4159),_=s.n(w),E=s(44414);function C(){var e;let a=(0,i.Zp)();const s=(0,t.wA)(),{register:w,handleSubmit:C,setValue:A,reset:S,control:k,watch:L,formState:{errors:D}}=(0,g.mN)(),{customerList:{data:M}}=(0,t.d4)(e=>e.masterslice),{customModel:T}=(0,t.d4)(e=>e.masterslice),[O,P]=(0,d.useState)(),[R,F]=(0,d.useState)({global:{value:""}}),[I,V]=(0,d.useState)(N.wz[0]),[z,W]=(0,d.useState)(!1),[U,G]=(0,d.useState)(""),q=(0,x.A)(U,h.dA);(0,d.useEffect)(()=>{(async()=>{const e={emp_leave_company:null===I||void 0===I?void 0:I.key};try{await s((0,p.hI)(e))}finally{}})()},[q]);const H=e=>{A(N.ic.ID,null===e||void 0===e?void 0:e.id),A(N.ic.EMPLOYEE_LEAVE,"0"==(null===e||void 0===e?void 0:e.emp_leave_company)),W(!0)},Y=()=>{S(),W(!1)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"container-fluid mw-100",children:[(0,E.jsx)(n.A,{title:"Employee List",header:"Employee List"}),(0,E.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,E.jsx)("div",{className:"card card-body p-3 mb-2",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-3 mb-3 mb-md-0",children:(0,E.jsxs)("div",{className:"position-relative",children:[(0,E.jsx)("input",{type:"text",className:"form-control product-search ps-5",id:"input-search",placeholder:"Search Employee...",value:U,onChange:e=>{const a=e.target.value;let s=(0,l.A)({},R);s.global&&(s.global.value=a),F(s),G(a)}}),(0,E.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-6 mb-3 mb-md-0 mb-2"}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-1 mb-3 mb-md-0",children:(0,E.jsxs)("div",{className:"btn-group w-100",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===I||void 0===I?void 0:I.value)||"Select Status"}),(0,E.jsx)("ul",{className:"dropdown-menu w-100 border",children:null===N.wz||void 0===N.wz?void 0:N.wz.map(e=>(0,E.jsx)("li",{children:(0,E.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>{(async e=>{try{const a={emp_leave_company:null===e||void 0===e?void 0:e.key};await s((0,p.hI)(a))}finally{}})(e),V(e)},children:null===e||void 0===e?void 0:e.value})},e.key))})]})}),(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-2",children:(0,E.jsx)("div",{className:"d-flex justify-content-end",children:(0,E.jsxs)(o.N_,{to:"/user_list/add_user",id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center w-100 w-md-auto",style:{height:"40px"},children:[(0,E.jsx)("span",{className:"me-1",children:(0,E.jsx)(y.QwN,{style:{fontSize:"1.2rem"}})}),(0,E.jsx)("span",{className:"fw-semibold",children:"Add Employee"})]})})})]})}),(0,E.jsx)("div",{className:"card card-body",children:(0,E.jsx)("div",{className:"table-responsive",children:(0,E.jsxs)(m.b,{value:M,paginator:!0,rows:15,globalFilter:U,rowsPerPageOptions:(null===M||void 0===M?void 0:M.length)>50?[20,30,50,null===M||void 0===M?void 0:M.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",emptyMessage:(0,E.jsx)("span",{style:{textAlign:"center",display:"block"},children:"No Customer found."}),children:[(0,E.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>a.rowIndex+1,sortable:!0,showFilterMenu:!0}),(0,E.jsx)(u.V,{field:"employee_id",header:"Employee Id",style:{minWidth:"8rem",whiteSpace:"nowrap"},body:e=>(0,E.jsx)("span",{className:"me-2",children:e.employee_id||"-"})}),(0,E.jsx)(u.V,{field:"phone_number",header:"Mobile No",style:{minWidth:"8rem"},body:e=>(0,E.jsx)("span",{className:"me-2",children:e.phone_number||"-"})}),(0,E.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"10rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,E.jsx)("span",{className:"me-2",children:e.name||"-"})}),(0,E.jsx)(u.V,{field:"email",header:"Email",style:{minWidth:"12rem"},body:e=>(0,E.jsx)("span",{className:"me-2",children:e.email||"-"})}),(0,E.jsx)(u.V,{field:"emp_leave_company","data-pc-section":"root",sortable:!0,header:"Status",style:{minWidth:"6rem"},body:e=>(0,E.jsx)(E.Fragment,{children:"0"==(null===e||void 0===e?void 0:e.emp_leave_company)?(0,E.jsx)("span",{className:"p-tag p-component cursor_pointer badge status_font text-light fw-semibold px-3 rounded-4 py-2 me-2  ".concat(N.Ez.SUCCESS),"data-pc-name":"tag","data-pc-section":"root",onClick:()=>{H(e)},children:(0,E.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Active"})}):(0,E.jsx)("span",{className:"p-tag p-component badge status_font text-light fw-semibold px-3 rounded-4 py-2 me-2 cursor_pointer ".concat(N.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",onClick:()=>{H(e)},children:(0,E.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Inactive"})})})}),(0,E.jsx)(u.V,{field:"statuss",header:"Action",style:{minWidth:"10rem"},body:e=>(0,E.jsxs)("div",{className:"action-btn",children:[(0,E.jsx)("a",{className:"text-custom-theam edit cursor_pointer cursor_pointer",onClick:()=>a("/user_list/edit_user",{state:e}),children:(0,E.jsx)("i",{class:"ti ti-edit fs-7"})}),(0,E.jsx)(o.N_,{to:"/user_list/user_details",state:e,className:"text-custom-theam edit cursor_pointer",children:(0,E.jsx)("i",{className:"ti ti-eye fs-7 ms-2"})}),(0,E.jsx)("a",{className:"text-dark delete ms-2 cursor_pointer cursor_pointer",onClick:()=>{(0,v.GF)(s,h.bt.DELETE_MODEL),P(e)},children:(0,E.jsx)("i",{className:"ti ti-trash fs-7 text-danger"})})]})})]})})})]})]}),(0,E.jsx)("div",{className:"modal custom-modal  ".concat(z?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,E.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,E.jsxs)("div",{className:"modal-content border-0",children:[(0,E.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,E.jsxs)("h6",{className:"modal-title fs-5",children:[L(N.ic.EMPLOYEE_LEAVE)?"Leave Employee Details":"Rejoin Employee"," "]}),(0,E.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Y()}})]}),(0,E.jsx)("div",{className:"modal-body",children:(0,E.jsx)("form",{onSubmit:C(async e=>{s((0,p.iC)(!0));let a={action:"admin",emp_leave_company:"1",emp_leave_date:e[N.ic.DATE],emp_leave_reason:e[N.ic.REASON],employee_id:e[N.ic.ID]};(0,c.Ec)(a).then(a=>{if(a.code==h.NC.SUCCESS){(0,r.k1)(null===a||void 0===a?void 0:a.message);const l=null===M||void 0===M?void 0:M.filter(a=>a.id!==e[N.ic.ID]);s((0,p.Ww)(l)),s((0,p.iC)(!1)),Y()}else s((0,p.iC)(!1)),(0,r.uU)(null===a||void 0===a?void 0:a.message)})}),children:(0,E.jsx)("div",{className:"col-lg-12",children:(0,E.jsx)("div",{className:"card-body p-2",children:(0,E.jsxs)("div",{className:"row g-3",children:[(0,E.jsx)("input",(0,l.A)({type:"hidden",value:"some_default_value"},w(N.ic.ID))),(0,E.jsx)("div",{className:"",children:(0,E.jsxs)("div",{className:"col-12 ",children:[(0,E.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,E.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,E.jsx)(g.xI,{name:N.ic.DATE,control:k,rules:{required:"Date is required"},render:e=>{let{field:a}=e;return(0,E.jsx)(f.A,{id:N.ic.DATE,picker:"date",className:"form-control custom-datepicker w-100",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:a.value?_()(a.value,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null,onChange:e=>a.onChange(e?_()(e).format(null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null)})}}),D.dob1&&(0,E.jsx)("small",{className:"text-danger",children:D.dob1.message})]})}),(0,E.jsxs)("div",{className:"",children:[(0,E.jsxs)("label",{htmlFor:"leave_reason",className:"form-label fw-semibold",children:["Reason",(0,E.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,E.jsx)("div",{className:"input-group border rounded-1",children:(0,E.jsx)("textarea",(0,l.A)({className:"form-control ps-2",rows:3,placeholder:"Enter reason for leave"},w(N.ic.REASON,{required:"Enter reason for leave"})))}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=D[N.ic.REASON])||void 0===e?void 0:e.message})]}),(0,E.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Y()},children:"Cancel"}),(0,E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),z&&(0,E.jsx)("div",{className:"modal-backdrop fade show"}),T.isOpen&&(null===T||void 0===T?void 0:T.modalType)===h.bt.DELETE_MODEL&&(0,E.jsx)(b.A,{children:(0,E.jsx)(j.b3,{onConfirm:async e=>{if(e){s((0,p.iC)(!0));try{const e={employee_id:null===O||void 0===O?void 0:O.id},a=await(0,c.Gd)(e);if(a.code==(null===h.NC||void 0===h.NC?void 0:h.NC.SUCCESS)){const e=null===M||void 0===M?void 0:M.filter(e=>e.id!==(null===O||void 0===O?void 0:O.id));s((0,p.Ww)(e)),(0,v.MF)(s),(0,r.k1)(null===a||void 0===a?void 0:a.message)}else(0,r.uU)(null===a||void 0===a?void 0:a.message),(0,v.MF)(s)}catch(a){console.error("Delete Employee Error:",a),(0,r.uU)("Something went wrong while deleting the employee."),(0,v.MF)(s)}finally{s((0,p.iC)(!1))}}}})})]})}},73907:()=>{}}]);