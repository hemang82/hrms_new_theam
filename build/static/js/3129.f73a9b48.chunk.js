(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[3129],{11976:()=>{},15928:(e,a,s)=>{"use strict";e.exports=s.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},34263:(e,a,s)=>{"use strict";s.d(a,{Z:()=>n});var l=s(73349),t=s.n(l),d=s(32003),i=s(52610);s(82391);let o={region:d.E7,accessKeyId:d.Fb,secretAccessKey:d.YE,endpoint:"https://s3.".concat(d.E7,".amazonaws.com/chatmyastrologer")};t().config.update(o),console.log("config",o);const n=async(e,a)=>{try{var s;const l=new FormData;l.append("file_type",a),l.append("files",e);const t=await(0,i.QM)(l);console.log("Upload s3 buckets");return(null===t||void 0===t||null===(s=t.data[0])||void 0===s?void 0:s.s3_object_url)||""}catch(l){throw console.log("uploadImageOnAWS",l),l}}},75061:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var l=s(9950),t=s(82569),d=s(59091),i=s(44414);const o=e=>{let{per_page:a,pageCount:s,onPageChange:o,page:n,lableName:c}=e;const r=(0,t.wA)(),[m,u]=(0,l.useState)(),v=Math.ceil(s/a)||4;(0,l.useEffect)(()=>{u(n),r((0,d.MU)(!0))},[n]);const p=e=>{e>=1&&e<=v&&(u(e),o(e))};return(0,i.jsx)(i.Fragment,{children:a<s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"showing-results border-top ",children:(0,i.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,i.jsxs)("ul",{className:"pagination ",children:[(0,i.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>p(1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,i.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>p(m-1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let a=m-Math.floor(1.5);a=Math.max(a,1);const l=Math.min(a+3-1,v);l-a<2&&(a=Math.max(l-3+1,1));for(let t=a;t<=l;t++){const a=m===t;if(s>0){const s="page-link font_18 ".concat(a?"text-dark active-link-pagination":"text-muted"),l="page-item ".concat(a?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,i.jsx)("li",{className:l,children:(0,i.jsx)("button",{className:s,onClick:()=>!a&&p(t),disabled:a,style:{color:"black",backgroundColor:"white"},children:t})},t))}}return e})(),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>p(m+1),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>p(v),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,i.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*a,s)||0," of ",s," entries"]})]})})}):null})}},78476:(e,a,s)=>{"use strict";s(9950),s(30639),s(86160),s(14064),s(44414)},98163:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var l=s(89379),t=s(9950),d=s(82569),i=s(28429),o=s(42074),n=(s(20404),s(12815),s(3302),s(19594),s(13658),s(79739)),c=s(52610),r=s(82391),m=(s(15928),s(78476),s(72772),s(42380)),u=s(2401),v=(s(73907),s(59091)),p=s(32003),h=s(45397),x=s(70591),b=s(23172),j=s(19030),N=s(75061),g=s(82543),f=s(9449),y=s(60984),w=s(4159),_=s.n(w),A=(s(90923),s(53856),s(25495)),S=(s(34263),s(90607)),E=s(29949),k=(s(77923),s(44414));function C(){var e,a,s,w;let C=(0,i.Zp)();const T=(0,d.wA)(),[L,F]=(0,t.useState)(0),[R,D]=(0,t.useState)(""),[M,P]=(0,t.useState)(!1),{leaveList:{data:O}}=(0,d.d4)(e=>e.masterslice),{customerList:{data:V}}=(0,d.d4)(e=>e.masterslice),{customModel:z}=(0,d.d4)(e=>e.masterslice),{register:I,handleSubmit:q,setValue:W,clearErrors:Y,reset:U,watch:B,trigger:H,control:K,formState:{errors:Q}}=(0,f.mN)(),{register:G,handleSubmit:Z,formState:{errors:J},reset:X}=(0,f.mN)(),{register:$,handleSubmit:ee,reset:ae,formState:{errors:se}}=(0,f.mN)(),le=[{key:"",value:"ALL STATUS"},{key:0,value:"Pending"},{key:1,value:"Approved"},{key:2,value:"Rejected"}],[te,de]=(0,t.useState)({}),[ie,oe]=(0,t.useState)(!1),[ne,ce]=(0,t.useState)(""),[re,me]=((0,h.A)(ne,p.dA),(0,t.useState)({global:{value:""}})),[ue,ve]=(0,t.useState)(!1),[pe,he]=(0,t.useState)(!1),[xe,be]=(0,t.useState)(!1),[je,Ne]=(0,t.useState)(le[0]),[ge,fe]=(0,t.useState)(null),[ye,we]=(0,t.useState)(-1),[_e,Ae]=(0,t.useState)(null),[Se,Ee]=(0,t.useState)(null),[ke,Ce]=(0,t.useState)(10),[Te,Le]=(0,t.useState)(1),[Fe,Re]=(0,t.useState)(!1),[De,Me]=(0,t.useState)(!1),[Pe,Oe]=(0,t.useState)(null),[Ve,ze]=(0,t.useState)(""),[Ie,qe]=(0,t.useState)(_()()),[We,Ye]=(0,t.useState)(!1),[Ue,Be]=(0,t.useState)(O),[He,Ke]=(0,t.useState)(g.wz[0]);(0,t.useEffect)(()=>{var e;const a={emp_leave_company:null===(e=g.wz[0])||void 0===e?void 0:e.key};0===(null===V||void 0===V?void 0:V.length)&&T((0,v.hI)(a)),Ne({})},[]),(0,t.useEffect)(()=>{let e={start_date:_e?(0,x.qr)(_e,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:Se?(0,x.qr)(Se,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,status:null===je||void 0===je?void 0:je.key};const a=null===O||void 0===O?void 0:O.filter(a=>{let s=!0;""!==e.status&&null!==e.status&&void 0!==e.status&&(s=Number(a.status)===Number(null===e||void 0===e?void 0:e.status));let l=!0;if(null!==e&&void 0!==e&&e.start_date&&null!==e&&void 0!==e&&e.end_date){const s=new Date(null===a||void 0===a?void 0:a.start_date),t=new Date(null===a||void 0===a?void 0:a.end_date),d=new Date(null===e||void 0===e?void 0:e.start_date),i=new Date(null===e||void 0===e?void 0:e.end_date);l=t>=d&&s<=i}return s&&l});Be(a)},[O,Se,je]);const Qe=(e,a)=>{he(!0),de((0,l.A)((0,l.A)({},e),{},{actionType:a}))},Ge=()=>{he(!1),de({})},Ze=()=>{ve(!1)},Je=e=>{ve(!0)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"container-fluid mw-100",children:[(0,k.jsx)(n.A,{title:"Leave List",header:"Leave List"}),(0,k.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,k.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,k.jsxs)("div",{className:"row g-3",children:[(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,k.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,k.jsx)("input",{type:"text",className:"form-control ps-5  ",id:"input-search",placeholder:"Search leave ...",value:ne,onChange:e=>{const a=e.target.value;let s=(0,l.A)({},re);s.global&&(s.global.value=a),me(s),Le(1),ce(null===a||void 0===a?void 0:a.trim())}}),(0,k.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,k.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,k.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,k.jsx)(y.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:_e,onChange:e=>{Ae(e),Ee(null)}})]}),(0,k.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,k.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,k.jsx)(y.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:Se,onChange:e=>{Ee(e),Le(1)},disabled:!_e,disabledDate:e=>!!_e&&e.isBefore(_e,"day")})]}),(0,k.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,k.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Leave Status"}),(0,k.jsxs)("div",{className:"btn-group w-100",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===je||void 0===je?void 0:je.value)||"Select Status"}),(0,k.jsx)("ul",{className:"dropdown-menu w-100",children:null===le||void 0===le?void 0:le.map(e=>(0,k.jsx)("li",{children:(0,k.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>(e=>{Ne(e),Le(1)})(e),children:null===e||void 0===e?void 0:e.value})},e.value))})]})]}),(0,k.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 mb-3 mb-md-0",children:[(0,k.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Employee Status"}),(0,k.jsxs)("div",{className:"btn-group w-100",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===He||void 0===He?void 0:He.value)||"Select Status"}),(0,k.jsx)("ul",{className:"dropdown-menu w-100 border",children:null===g.wz||void 0===g.wz?void 0:g.wz.map(e=>(0,k.jsx)("li",{children:(0,k.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>{(async e=>{try{const a={emp_leave_company:null===e||void 0===e?void 0:e.key};await T((0,v.NI)(a))}finally{}})(e),Ke(e)},children:null===e||void 0===e?void 0:e.value})},e.key))})]})]})]})}),(0,k.jsxs)("div",{className:"card p-3",children:[(0,k.jsxs)("div",{className:"row border-bottom pb-3 ",children:[(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-3"}),(0,k.jsx)("div",{className:"col-12 col-md-6 col-lg-9",children:(0,k.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-end align-items-stretch gap-2 ",children:[(0,k.jsxs)("div",{id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-centermt-md-0 w-md-auto ",style:{height:"40px"},onClick:()=>{C(null===S.R||void 0===S.R?void 0:S.R.ADD_LEAVE)},children:[(0,k.jsx)("span",{className:"me-1",children:(0,k.jsx)(A.QwN,{style:{fontSize:"1.2rem"}})}),(0,k.jsx)("span",{className:"fw-semibold",children:"Add Leave"})]}),(0,k.jsxs)(o.N_,{id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center mt-3 mt-md-0  w-md-auto ",style:{height:"40px"},onClick:()=>{Je()},children:[(0,k.jsx)("span",{className:"me-1",children:(0,k.jsx)(A.QwN,{style:{fontSize:"1.2rem"}})}),(0,k.jsx)("span",{className:"fw-semibold",children:"Add Leave Balance"})]})]})}),(0,k.jsx)("div",{className:"col-md-8 col-xl-9 text-end d-flex justify-content-md-end justify-content-center mt-3 mt-md-0 gap-3"})]}),(0,k.jsxs)("div",{className:"table-responsive",children:[(0,k.jsxs)(m.b,{value:(null===Ue||void 0===Ue?void 0:Ue.length)>0?Ue:[],paginator:!0,rows:15,globalFilter:ne,sortField:ge,sortOrder:ye,onSort:e=>{console.log("Sort event triggered:",e),fe(null===e||void 0===e?void 0:e.sortField),we(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===Ue||void 0===Ue?void 0:Ue.length)>50?[20,30,50,null===Ue||void 0===Ue?void 0:Ue.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:ie,emptyMessage:(0,k.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Leave Not Found."}),children:[(0,k.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>(null===a||void 0===a?void 0:a.rowIndex)+1,showFilterMenu:!0,sortable:!0}),(0,k.jsx)(u.V,{field:"show_employee_id",header:"Employee ID",style:{minWidth:"10rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,k.jsx)("span",{children:(null===e||void 0===e?void 0:e.show_employee_id)||"-"})}),(0,k.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,k.jsxs)("span",{className:"me-2",children:[(0,x.sz)(e.name)||"-"," "]})}),(0,k.jsx)(u.V,{field:"start_date",header:"From",style:{minWidth:"8rem"},body:e=>(0,k.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,k.jsx)(u.V,{field:"end_date",header:"To",style:{minWidth:"8em"},body:e=>(0,k.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,k.jsx)(u.V,{field:"days",header:"Days",style:{minWidth:"6rem"},body:e=>(0,k.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e?void 0:e.days)||"-"," "]})}),(0,k.jsx)(u.V,{field:"leave_type",header:"Type",style:{minWidth:"6rem"},body:e=>(0,k.jsx)("span",{className:"me-2",children:(null===e||void 0===e?void 0:e.leave_type)||"-"})}),(0,k.jsx)(u.V,{field:"create_at",header:"Request Date",style:{minWidth:"8rem"},body:e=>(0,k.jsxs)("span",{className:"me-2",children:[(0,x.Yq)(e.create_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,k.jsx)(u.V,{field:"is_active","data-pc-section":"root",header:"Status",style:{minWidth:"8rem"},body:e=>(0,k.jsx)(k.Fragment,{children:1==(null===e||void 0===e?void 0:e.status)?(0,k.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.SUCCESS),"data-pc-name":"tag","data-pc-section":"root",children:(0,k.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Approved"})}):2==(null===e||void 0===e?void 0:e.status)?(0,k.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",children:(0,k.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Rejected"})}):(0,k.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.WARNING),"data-pc-name":"tag","data-pc-section":"root",children:(0,k.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Pending"})})})}),"1"==(0,x._S)(null===p.Ay||void 0===p.Ay?void 0:p.Ay.ROLE_KEY)&&(0,k.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>(0,k.jsx)("div",{className:"action-btn d-flex align-items-center",children:0==(null===e||void 0===e?void 0:e.status)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("a",{className:"text-success cursor_pointer me-2",onClick:()=>{Qe(e,"approved")},children:(0,k.jsx)("i",{className:"ti ti-check fs-7"})}),(0,k.jsx)("a",{className:"text-danger cursor_pointer",onClick:()=>{Qe(e,"cancel")},children:(0,k.jsx)("i",{className:"ti ti-x fs-7"})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("a",{className:"text-success me-2 disabled-status",children:(0,k.jsx)("i",{className:"ti ti-check fs-7"})}),(0,k.jsx)("a",{className:"text-danger disabled-status",children:(0,k.jsx)("i",{className:"ti ti-x fs-7"})})]})})}),(0,k.jsx)(u.V,{field:"status",header:"View",style:{minWidth:"6rem"},body:e=>(0,k.jsx)("div",{className:"action-btn",children:(0,k.jsx)(o.N_,{onClick:()=>{de(e),be(!0)},state:e,className:"text-custom-theam edit cursor_pointer",children:(0,k.jsx)("i",{className:"ti ti-eye fs-7"})})})})]}),(0,k.jsx)("div",{className:"",children:(0,k.jsx)(N.A,{per_page:50,pageCount:null===O||void 0===O?void 0:O.total_count,onPageChange:e=>{Le(e)},page:Te})})]})]})]})]}),(0,k.jsx)("div",{className:"modal custom-modal  ".concat(ue?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,k.jsxs)("div",{className:"modal-content border-0",children:[(0,k.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,k.jsxs)("h6",{className:"modal-title fs-5",children:["Add Leave Balance"," "]}),(0,k.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Ze()}})]}),(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsx)("form",{onSubmit:q(async e=>{T((0,v.iC)(!0));let a={balance:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_BALANCE],employee_id:e[null===g.ic||void 0===g.ic?void 0:g.ic.EMPLOYEE],leave_type:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_TYPE]};(0,c.K2)(a).then(e=>{(null===e||void 0===e?void 0:e.code)==p.NC.SUCCESS?(U(),(0,r.k1)(null===e||void 0===e?void 0:e.message),Ze(),T((0,v.iC)(!1)),T((0,v.NI)({}))):(T((0,v.iC)(!1)),(0,r.uU)(null===e||void 0===e?void 0:e.message))})}),children:(0,k.jsx)("div",{className:"col-lg-12",children:(0,k.jsx)("div",{className:"card-body p-4",children:(0,k.jsxs)("div",{className:"row g-3",children:[(0,k.jsx)("div",{className:"col-12 col-md-6",children:(0,k.jsxs)("div",{className:"mb-1",children:[(0,k.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Select Employee",(0,k.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,k.jsx)("div",{className:"input-group border rounded-1",children:(0,k.jsx)("select",(0,l.A)((0,l.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},I(g.ic.EMPLOYEE,{required:"Select employee"})),{},{children:(0,x.st)(V)}))}),(0,k.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=Q[g.ic.EMPLOYEE])||void 0===e?void 0:e.message})]})}),(0,k.jsx)("div",{className:"col-12 col-md-6",children:(0,k.jsxs)("div",{className:"mb-1",children:[(0,k.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Leave Type",(0,k.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,k.jsx)("div",{className:"input-group border rounded-1",children:(0,k.jsx)("select",(0,l.A)((0,l.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},I(g.ic.LEAVE_TYPE,{required:"Select leave type"})),{},{children:(0,x.MT)(g.SB)}))}),(0,k.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(a=Q[g.ic.LEAVE_TYPE])||void 0===a?void 0:a.message})]})}),(0,k.jsxs)("div",{className:"mb-1",children:[(0,k.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Leave Balance",(0,k.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,k.jsx)("div",{className:"input-group border rounded-1",children:(0,k.jsx)("input",(0,l.A)({type:"number",step:"0.01",className:"form-control ps-2",placeholder:"Enter leave balance",autoComplete:"false"},I(g.ic.LEAVE_BALANCE,{required:"Enter leave balance"})))}),(0,k.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(s=Q[g.ic.LEAVE_BALANCE])||void 0===s?void 0:s.message})]}),(0,k.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Ze()},children:"Cancel"}),(0,k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),ue&&(0,k.jsx)("div",{className:"modal-backdrop fade show"}),(0,k.jsx)("div",{className:"modal custom-modal  ".concat(pe?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,k.jsxs)("div",{className:"modal-content border-0",children:[(0,k.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,k.jsxs)("h6",{className:"modal-title",children:["approved"===(null===te||void 0===te?void 0:te.actionType)?"Are you sure approve leave ?":"Rejection Reason"," "]}),(0,k.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Ge()}})]}),(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsx)("form",{onSubmit:Z(async e=>{console.log("handleStatus dataaa",e),P(!0);let a={leaveId:null===te||void 0===te?void 0:te.leave_id,status:"approved"===(null===te||void 0===te?void 0:te.actionType)?"1":"2",admin_reason:null!==e&&void 0!==e&&e.reason?null===e||void 0===e?void 0:e.reason:""};(0,c.pq)(a).then(e=>{if(e.code==p.NC.SUCCESS){(0,r.k1)(null===e||void 0===e?void 0:e.message);let a=null===O||void 0===O?void 0:O.map(e=>(null===te||void 0===te?void 0:te.leave_id)===e.leave_id?(0,l.A)((0,l.A)({},e),{},{status:"approved"===(null===te||void 0===te?void 0:te.actionType)?"1":"2"}):e);T((0,v.j)(a)),de({}),Ge(),P(!1)}else(0,r.uU)(e.message)})}),children:(0,k.jsx)("div",{className:"col-lg-12",children:(0,k.jsx)("div",{className:"card-body pt-4 p-2 ",children:(0,k.jsxs)("div",{className:"row g-3",children:["approved"===(null===te||void 0===te?void 0:te.actionType)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"text-center mb-3",children:(0,k.jsx)(E.rfp,{style:{fontSize:"2rem"}})}),(0,k.jsx)("p",{className:"fw-semibold fs-4 text-center",children:"Are you sure you want to approve this leave?"})]}):(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"mb-1",children:[(0,k.jsxs)("label",{htmlFor:"reason",className:"form-label fw-semibold",children:["Reason",(0,k.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,k.jsx)("div",{className:"input-group border rounded-1",children:(0,k.jsx)("textarea",(0,l.A)({id:"reason",className:"form-control ps-2",placeholder:"Enter reason",rows:3},G(g.ic.REASON,{required:"Enter reason"})))}),(0,k.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(w=J[g.ic.REASON])||void 0===w?void 0:w.message})]})}),(0,k.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Ge()},children:"Cancel"}),(0,k.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[" ","approved"===(null===te||void 0===te?void 0:te.actionType)?"Yes, Approve Leave":"Submit"]})]})]})})})})})]})})}),pe&&(0,k.jsx)("div",{className:"modal-backdrop fade show"}),(0,k.jsx)("div",{className:"modal custom-modal  ".concat(xe?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,k.jsxs)("div",{className:"modal-content border-0",children:[(0,k.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,k.jsx)("h6",{className:"modal-title fs-6",children:" Leave Details "}),(0,k.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{be(!1),de({})}})]}),(0,k.jsx)("div",{className:"modal-body ",children:(0,k.jsxs)("div",{className:"row m-2",children:[[{label:"Leave Type",value:null===te||void 0===te?void 0:te.leave_type},{label:"Request Date",value:(0,x.Yq)(null===te||void 0===te?void 0:te.created_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"Days",value:null===te||void 0===te?void 0:te.days},{label:"Start Date",value:(0,x.Yq)(null===te||void 0===te?void 0:te.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"End Date",value:(0,x.Yq)(null===te||void 0===te?void 0:te.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)}].map((e,a)=>(0,k.jsx)("div",{className:"col-md-4 mb-4",children:"Reason"==(null===e||void 0===e?void 0:e.label)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,k.jsx)("h6",{dangerouslySetInnerHTML:{__html:e.value}})]}):e.value&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,k.jsx)("h6",{className:"fw-meduim mb-0 fs-5 text-capitalize",children:e.value||"N/A"})]})},a)),(null===te||void 0===te?void 0:te.reason)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,k.jsx)("p",{className:"mb-1 fs-4",children:"Reason"}),(0,k.jsx)("h6",{className:"fw-meduim mb-0 fs-5 text-capitalize",children:te.reason||"N/A"})]})}),(null===te||void 0===te?void 0:te.admin_reason)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,k.jsx)("p",{className:"mb-1 fs-4",children:"Admin Reason"}),(0,k.jsx)("h6",{className:"fw-meduim mb-0 fs-5 text-capitalize",children:te.admin_reason||"N/A"})]})})]})})]})})}),xe&&(0,k.jsx)("div",{className:"modal-backdrop fade show"}),z.isOpen&&(null===z||void 0===z?void 0:z.modalType)===p.bt.DELETE_MODEL&&(0,k.jsx)(b.A,{children:(0,k.jsx)(j.b3,{onConfirm:e=>{if(e){T((0,v.iC)(!0));let e={loan_id:null===te||void 0===te?void 0:te.id,is_deleted:!0};(0,c._i)(e).then(e=>{if(e.status_code===(null===p.NC||void 0===p.NC?void 0:p.NC.SUCCESS)){P(!1);const a=null===O||void 0===O?void 0:O.filter(e=>e.id!==(null===te||void 0===te?void 0:te.id));T((0,v.Kd)((0,l.A)((0,l.A)({},O),{},{loan_applications:a}))),(0,x.MF)(T),T((0,v.iC)(!1)),(0,r.k1)(null===e||void 0===e?void 0:e.message)}})}}})})]})}}}]);