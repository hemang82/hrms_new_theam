"use strict";(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[3104],{23172:(e,a,l)=>{l.d(a,{A:()=>n});l(9950);var s=l(28429),i=(l(32003),l(82569)),d=l(70591),o=l(82543),t=l(44414);const n=e=>{let{children:a}=e;(0,s.Zp)(),(0,s.zy)();const l=(0,i.wA)(),{customModel:{isOpen:n,modalType:c}}=(0,i.d4)(e=>e.masterslice);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"modal custom_model ".concat(n?"fade show d-flex align-items-center justify-content-center":"d-none"),id:"delete-account",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,t.jsx)("form",{children:(0,t.jsx)("div",{className:o.bt.DELETE_MODEL===c||o.bt.LOGOUT_MODEL===c?"modal-dialog modal-md modal-dialog-centered":"modal-dialog modal-lg modal-dialog-centered",children:(0,t.jsxs)("div",{className:o.bt.DELETE_MODEL===c||o.bt.LOGOUT_MODEL===c?"modal-content modal-filled":"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header d-flex align-items-center",children:[(0,t.jsx)("h4",{className:"modal-title",id:"myLargeModalLabel"}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{(0,d.MF)(l)}})]}),(0,t.jsx)("div",{className:"modal-body",children:a})]})})})}),n&&(0,t.jsx)("div",{className:"modal-backdrop fade show"})]})}},45397:(e,a,l)=>{l.d(a,{A:()=>i});var s=l(9950);const i=(e,a)=>{const[l,i]=(0,s.useState)(e);return(0,s.useEffect)(()=>{const l=setTimeout(()=>{i(e)},a);return()=>{clearTimeout(l)}},[e]),l}},73104:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var s=l(89379),i=l(9950),d=l(82569),o=l(28429),t=l(42074),n=l(79739),c=l(52610),r=l(82391),m=l(42380),u=l(2401),p=(l(73907),l(59091)),h=l(32003),v=l(45397),x=l(70591),b=l(23172),j=l(19030),N=l(82543),g=l(25495),y=l(9449),f=l(60984),_=l(4159),E=l.n(_),w=l(44414);function A(){var e;let a=(0,o.Zp)();const l=(0,d.wA)(),{register:_,handleSubmit:A,setValue:C,reset:S,control:L,watch:k,formState:{errors:D}}=(0,y.mN)(),{customerList:{data:M}}=(0,d.d4)(e=>e.masterslice),{customModel:T}=(0,d.d4)(e=>e.masterslice),[O,R]=(0,i.useState)(),[P,F]=(0,i.useState)({global:{value:""}}),[I,V]=(0,i.useState)(N.wz[0]),[U,W]=(0,i.useState)(!1),[z,G]=(0,i.useState)(""),q=(0,v.A)(z,h.dA);(0,i.useEffect)(()=>{(async()=>{const e={emp_leave_company:null===I||void 0===I?void 0:I.key};try{await l((0,p.hI)(e))}finally{}})()},[q]);const Y=e=>{C(N.ic.ID,null===e||void 0===e?void 0:e.id),C(N.ic.EMPLOYEE_LEAVE,"0"==(null===e||void 0===e?void 0:e.emp_leave_company)),W(!0)},H=()=>{S(),W(!1)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"container-fluid mw-100",children:[(0,w.jsx)(n.A,{title:"Employee List",header:"Employee List"}),(0,w.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,w.jsx)("div",{className:"card card-body p-3 mb-2",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-3 mb-3 mb-md-0",children:(0,w.jsxs)("div",{className:"position-relative",children:[(0,w.jsx)("input",{type:"text",className:"form-control product-search ps-5",id:"input-search",placeholder:"Search Employee...",value:z,onChange:e=>{const a=e.target.value;let l=(0,s.A)({},P);l.global&&(l.global.value=a),F(l),G(a)}}),(0,w.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-6 mb-3 mb-md-0 mb-2"}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-1 mb-3 mb-md-0",children:(0,w.jsxs)("div",{className:"btn-group w-100",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===I||void 0===I?void 0:I.value)||"Select Status"}),(0,w.jsx)("ul",{className:"dropdown-menu w-100 border",children:null===N.wz||void 0===N.wz?void 0:N.wz.map(e=>(0,w.jsx)("li",{children:(0,w.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>{(async e=>{try{const a={emp_leave_company:null===e||void 0===e?void 0:e.key};await l((0,p.hI)(a))}finally{}})(e),V(e)},children:null===e||void 0===e?void 0:e.value})},e.key))})]})}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-2",children:(0,w.jsx)("div",{className:"d-flex justify-content-end",children:(0,w.jsxs)(t.N_,{to:"/user_list/add_user",id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center w-100 w-md-auto",style:{height:"40px"},children:[(0,w.jsx)("span",{className:"me-1",children:(0,w.jsx)(g.QwN,{style:{fontSize:"1.2rem"}})}),(0,w.jsx)("span",{className:"fw-semibold",children:"Add Employee"})]})})})]})}),(0,w.jsx)("div",{className:"card card-body",children:(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsxs)(m.b,{value:(null===M||void 0===M?void 0:M.length)>0?M:[],paginator:!0,rows:15,globalFilter:z,rowsPerPageOptions:(null===M||void 0===M?void 0:M.length)>50?[20,30,50,null===M||void 0===M?void 0:M.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",emptyMessage:(0,w.jsx)("span",{style:{textAlign:"center",display:"block"},children:"No Customer found."}),children:[(0,w.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>a.rowIndex+1,sortable:!0,showFilterMenu:!0}),(0,w.jsx)(u.V,{field:"employee_id",header:"Employee Id",style:{minWidth:"8rem",whiteSpace:"nowrap"},body:e=>(0,w.jsx)("span",{className:"me-2",children:e.employee_id||"-"})}),(0,w.jsx)(u.V,{field:"phone_number",header:"Mobile No",style:{minWidth:"8rem"},body:e=>(0,w.jsx)("span",{className:"me-2",children:e.phone_number||"-"})}),(0,w.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"10rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,w.jsx)("span",{className:"me-2",children:e.name||"-"})}),(0,w.jsx)(u.V,{field:"email",header:"Email",style:{minWidth:"12rem"},body:e=>(0,w.jsx)("span",{className:"me-2",children:e.email||"-"})}),(0,w.jsx)(u.V,{field:"emp_leave_company","data-pc-section":"root",sortable:!0,header:"Status",style:{minWidth:"6rem"},body:e=>(0,w.jsx)(w.Fragment,{children:"0"==(null===e||void 0===e?void 0:e.emp_leave_company)?(0,w.jsx)("span",{className:"p-tag p-component cursor_pointer badge status_font text-light fw-semibold px-3 rounded-4 py-2 me-2  ".concat(N.Ez.SUCCESS),"data-pc-name":"tag","data-pc-section":"root",onClick:()=>{Y(e)},children:(0,w.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Active"})}):(0,w.jsx)("span",{className:"p-tag p-component badge status_font text-light fw-semibold px-3 rounded-4 py-2 me-2 cursor_pointer ".concat(N.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",onClick:()=>{Y(e)},children:(0,w.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Inactive"})})})}),(0,w.jsx)(u.V,{field:"statuss",header:"Action",style:{minWidth:"10rem"},body:e=>(0,w.jsxs)("div",{className:"action-btn",children:[(0,w.jsx)("a",{className:"text-custom-theam edit cursor_pointer cursor_pointer",onClick:()=>a("/user_list/edit_user",{state:e}),children:(0,w.jsx)("i",{class:"ti ti-edit fs-7"})}),(0,w.jsx)(t.N_,{to:"/user_list/user_details",state:e,className:"text-custom-theam edit cursor_pointer",children:(0,w.jsx)("i",{className:"ti ti-eye fs-7 ms-2"})}),(0,w.jsx)("a",{className:"text-dark delete ms-2 cursor_pointer cursor_pointer",onClick:()=>{(0,x.GF)(l,h.bt.DELETE_MODEL),R(e)},children:(0,w.jsx)("i",{className:"ti ti-trash fs-7 text-danger"})})]})})]})})})]})]}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(U?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsxs)("h6",{className:"modal-title fs-5",children:[k(N.ic.EMPLOYEE_LEAVE)?"Leave Employee Details":"Rejoin Employee"," "]}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{H()}})]}),(0,w.jsx)("div",{className:"modal-body",children:(0,w.jsx)("form",{onSubmit:A(async e=>{if(l((0,p.iC)(!0)),e.employee_leave){let a={action:"admin",emp_leave_company:"1",emp_leave_date:e[N.ic.DATE],emp_leave_reason:e[N.ic.REASON],employee_id:e[N.ic.ID]};(0,c.Ec)(a).then(a=>{if(a.code==h.NC.SUCCESS){(0,r.k1)(null===a||void 0===a?void 0:a.message);const s=null===M||void 0===M?void 0:M.filter(a=>a.id!==e[N.ic.ID]);l((0,p.Ww)(s)),l((0,p.iC)(!1)),H()}else l((0,p.iC)(!1)),(0,r.uU)(null===a||void 0===a?void 0:a.message)})}else{let a={action:"admin",emp_id:null===e||void 0===e?void 0:e.id,emp_leave_company:"0",joining_date:(0,x.Yq)(e[N.ic.DATE],null===N.ow||void 0===N.ow?void 0:N.ow.DATE_LOCAL_DASH_TIME_FORMAT),emp_leave_reason:e[N.ic.REASON]};(0,c.fS)(a).then(a=>{if(a.code==h.NC.SUCCESS){(0,r.k1)(null===a||void 0===a?void 0:a.message);const s=null===M||void 0===M?void 0:M.filter(a=>a.id!==e[N.ic.ID]);l((0,p.Ww)(s)),l((0,p.iC)(!1)),H()}else l((0,p.iC)(!1)),(0,r.uU)(null===a||void 0===a?void 0:a.message)})}}),children:(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsx)("div",{className:"card-body p-2",children:(0,w.jsxs)("div",{className:"row g-3",children:[(0,w.jsx)("input",(0,s.A)({type:"hidden",value:"some_default_value"},_(N.ic.ID))),(0,w.jsx)("div",{className:"",children:(0,w.jsxs)("div",{className:"col-12 ",children:[(0,w.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)(y.xI,{name:N.ic.DATE,control:L,rules:{required:"Date is required"},render:e=>{let{field:a}=e;return(0,w.jsx)(f.A,{id:N.ic.DATE,picker:"date",className:"form-control custom-datepicker w-100",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:a.value?E()(a.value,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null,onChange:e=>a.onChange(e?E()(e).format(null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null)})}}),D.dob1&&(0,w.jsx)("small",{className:"text-danger",children:D.dob1.message})]})}),k(N.ic.EMPLOYEE_LEAVE)&&(0,w.jsxs)("div",{className:"",children:[(0,w.jsxs)("label",{htmlFor:"leave_reason",className:"form-label fw-semibold",children:["Reason",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)("div",{className:"input-group border rounded-1",children:(0,w.jsx)("textarea",(0,s.A)({className:"form-control ps-2",rows:3,placeholder:"Enter reason for leave"},_(N.ic.REASON,{required:"Enter reason for leave"})))}),(0,w.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=D[N.ic.REASON])||void 0===e?void 0:e.message})]}),(0,w.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{H()},children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),U&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),T.isOpen&&(null===T||void 0===T?void 0:T.modalType)===h.bt.DELETE_MODEL&&(0,w.jsx)(b.A,{children:(0,w.jsx)(j.b3,{onConfirm:async e=>{if(e){l((0,p.iC)(!0));try{const e={employee_id:null===O||void 0===O?void 0:O.id},a=await(0,c.Gd)(e);if(a.code==(null===h.NC||void 0===h.NC?void 0:h.NC.SUCCESS)){const e=null===M||void 0===M?void 0:M.filter(e=>e.id!==(null===O||void 0===O?void 0:O.id));l((0,p.Ww)(e)),(0,x.MF)(l),(0,r.k1)(null===a||void 0===a?void 0:a.message)}else(0,r.uU)(null===a||void 0===a?void 0:a.message),(0,x.MF)(l)}catch(a){console.error("Delete Employee Error:",a),(0,r.uU)("Something went wrong while deleting the employee."),(0,x.MF)(l)}finally{l((0,p.iC)(!1))}}}})})]})}},73907:()=>{}}]);