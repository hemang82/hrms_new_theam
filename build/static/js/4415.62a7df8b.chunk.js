"use strict";(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[4415],{15928:(e,s,a)=>{e.exports=a.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},17399:(e,s,a)=>{a.d(s,{I:()=>i});a(9950);var l=a(44414);const i=()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center text-muted py-5 border rounded-2 bg-light",children:[(0,l.jsx)("i",{className:"bi bi-calendar-x fs-1 mb-3"}),(0,l.jsx)("h5",{className:"fw-semibold",children:"No Data Found"})]})})},35310:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var l=a(89379),i=a(9950),d=a(82569),t=a(28429),n=a(42074),o=(a(20404),a(12815),a(3302),a(19594),a(13658),a(79739)),c=a(52610),r=a(82391),m=(a(15928),a(78476),a(72772),a(73907),a(59091)),u=a(32003),h=a(45397),x=a(70591),b=a(23172),v=a(19030),N=a(75061),j=a(82543),p=a(25495),g=a(9449),f=a(60984),E=a(4159),A=a.n(E),w=a(90607),y=a(67611),_=a(68459),C=a(86781),S=a(21912),k=a(21642),M=a(17399),T=a(44414);function D(){var e,s;let a=(0,t.Zp)();const E=(0,d.wA)(),{register:D,handleSubmit:R,setValue:F,clearErrors:L,reset:O,watch:H,control:Y,formState:{errors:U}}=(0,g.mN)(),{holidayList:{data:z}}=(0,d.d4)(e=>e.masterslice),{customModel:I}=(0,d.d4)(e=>e.masterslice),[K,W]=(0,i.useState)(),[P,q]=(0,i.useState)(A()()),[B,G]=(0,i.useState)(!1),[Q,V]=(0,i.useState)(""),[X,Z]=((0,h.A)(Q,u.dA),(0,i.useState)({global:{value:""}})),[J,$]=(0,i.useState)("created_at"),[ee,se]=(0,i.useState)(-1),[ae,le]=(0,i.useState)(50),[ie,de]=(0,i.useState)(1),[te,ne]=(0,i.useState)(!1),[oe,ce]=(0,i.useState)(null),[re,me]=(0,i.useState)(!1),[ue,he]=(0,i.useState)(!1),[xe,be]=(0,i.useState)({});(0,i.useEffect)(()=>{0===(null===z||void 0===z?void 0:z.length)&&(async()=>{const e={year:P?(0,x.qr)(P,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_WEEK_NAME_FORMAT_YEAR):null};try{await E((0,m.TE)(e))}finally{}})()},[]);const ve=async()=>{ne(!1),me(!1),he(!1),be({}),ce(A()()),O()},Ne=e=>{let{festival:s}=e;return(0,T.jsx)(_.A,{xs:12,sm:12,md:6,lg:4,className:"mb-4",children:(0,T.jsxs)(y.A,{className:"shadow-sm h-100 rounded-3 border-0 position-relative ".concat(null!==s&&void 0!==s&&s.is_upcoming?"green_border":"red_border"),children:[(null===s||void 0===s?void 0:s.is_upcoming)&&(0,T.jsxs)("div",{className:"position-absolute top-0 end-0 m-2 d-flex gap-2",children:[(0,T.jsx)("button",{className:"btn btn-sm btn-light shadow-sm rounded-circle",onClick:()=>{(async e=>{F(j.ic.NAME,null===e||void 0===e?void 0:e.name),ce(null!==e&&void 0!==e&&e.date?A()(null===e||void 0===e?void 0:e.date):null),me(!0),ne(!0),be(e)})(s)},title:"Edit",children:(0,T.jsx)("i",{class:"ti ti-edit fontSize16 text-custom-theam"})}),(0,T.jsx)("button",{className:"btn btn-sm btn-light shadow-sm rounded-circle",onClick:()=>{(0,x.GF)(E,u.bt.DELETE_MODEL),W(s)},title:"Delete",children:(0,T.jsx)("i",{className:"ti ti-trash fontSize16 text-danger "})})]}),(0,T.jsxs)(y.A.Body,{className:"d-flex flex-column justify-content-center align-items-start p-4",children:[(0,T.jsxs)("h4",{className:"fw-semibold mb-3 text-truncate fontSize16 fs-md-4 fs-lg-3",style:{color:"#1f7494",maxWidth:"100%"},children:[(0,T.jsx)(k.dnm,{className:"me-1",size:20})," ",null===s||void 0===s?void 0:s.name]}),(0,T.jsxs)("div",{className:"d-flex align-items-center fontSize16 fs-md-5 fs-lg-5 fw-semibold",style:{color:"#555"},children:[(0,T.jsx)(S.Nb0,{className:"me-2",size:22,style:{color:"#1f7494"}}),(0,x.qr)(s.date,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_WEEK_MONTH_NAME_FORMAT_WEEK)]})]})]})})};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"container-fluid mw-100",children:[(0,T.jsx)(o.A,{title:"Holidays List",header:"Holidays List"}),(0,T.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,T.jsx)("div",{className:"card card-body p-2 mb-2",children:(0,T.jsxs)("div",{className:"row g-3 mb-3",children:[(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-8",children:(0,T.jsxs)("h3",{className:"text-center text-custom-theam mt-2 fw-semibold",children:["Upcoming Holidays \u2013 ",(0,x.qr)(P,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_WEEK_NAME_FORMAT_YEAR)]})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-2",children:(0,T.jsx)(f.A,{className:"custom-datepicker w-100 p-2",picker:"year",format:null===j.ow||void 0===j.ow?void 0:j.ow.DATE_WEEK_NAME_FORMAT_YEAR,value:P,onChange:e=>{q(e),(e=>{const s={year:null!==e&&void 0!==e&&e.date?(0,x.qr)(null===e||void 0===e?void 0:e.date,null===j.ow||void 0===j.ow?void 0:j.ow.DATE_WEEK_NAME_FORMAT_YEAR):null};E((0,m.TE)(s))})({date:e})},disabledDate:x.tK})}),(0,T.jsx)("div",{className:"col-12 col-md-6 col-lg-2",children:(0,T.jsxs)(n.N_,{id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center mt-3 mt-md-0  w-md-auto ",style:{height:"40px"},onClick:()=>{ne(!0)},children:[(0,T.jsx)("span",{className:"me-1",children:(0,T.jsx)(p.QwN,{style:{fontSize:"1.2rem"}})}),(0,T.jsx)("span",{className:"fw-semibold",children:"Add Holidays"})]})})]})}),(0,T.jsxs)("div",{className:"card card-body",children:[(0,T.jsx)("div",{className:"my-2 p-2",children:(0,T.jsx)(C.A,{children:(null===z||void 0===z?void 0:z.length)>0?null===z||void 0===z?void 0:z.map(e=>(0,T.jsx)(Ne,{festival:e},e.id)):(0,T.jsx)(_.A,{xs:12,children:(0,T.jsx)(M.I,{})})})}),(0,T.jsx)("div",{className:"",children:(0,T.jsx)(N.A,{per_page:ae,pageCount:null===z||void 0===z?void 0:z.total_count,onPageChange:e=>{de(e)},page:ie})})]})]})]}),(0,T.jsx)("div",{className:"modal custom-modal  ".concat(te?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,T.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm modal-md modal-lg",role:"document",children:(0,T.jsxs)("div",{className:"modal-content border-0",children:[(0,T.jsxs)("div",{className:"modal-header bg-primary ",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,T.jsxs)("h6",{className:"modal-title fs-5",children:[re?"Edit":"Add"," Holidays"]}),(0,T.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{ve()}})]}),(0,T.jsx)("div",{className:"modal-body",children:(0,T.jsx)("form",{onSubmit:R(async e=>{try{let s={name:e[j.ic.NAME],date:(0,x.qr)(oe,j.ow.DATE_DASH_TIME_FORMAT)};E((0,m.iC)(!0)),re?(s.holiday_id=xe.id,(0,c.Fw)(s).then(e=>{(null===e||void 0===e?void 0:e.code)==u.NC.SUCCESS?((0,r.k1)(null===e||void 0===e?void 0:e.message),a(null===w.R||void 0===w.R?void 0:w.R.HOLIDAYS_LIST),me(!1),ne(!1),ce(A()()),be({}),ve(),E((0,m.iC)(!1)),O()):(me(!1),ne(!1),(0,r.uU)(e.message),O(),E((0,m.iC)(!1)),ve())})):(0,c.Nk)(s).then(e=>{(null===e||void 0===e?void 0:e.code)==u.NC.SUCCESS?((0,r.k1)(null===e||void 0===e?void 0:e.message),a(null===w.R||void 0===w.R?void 0:w.R.HOLIDAYS_LIST),ne(!1),ce(A()()),ve(),he(!1),E((0,m.iC)(!1))):(me(!1),he(!1),ne(!1),ve(),(0,r.uU)(e.message),E((0,m.iC)(!1)))})}catch(s){E((0,m.iC)(!1)),(0,r.uU)("Somthing went wrong")}}),children:(0,T.jsx)("div",{className:"col-lg-12",children:(0,T.jsxs)("div",{className:"card-body p-4",children:[(0,T.jsxs)("div",{className:"row d-flex gap-3",children:[(0,T.jsx)("div",{className:"col",children:(0,T.jsxs)("div",{className:"mb-2",children:[(0,T.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Name ",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group border rounded-1",children:(0,T.jsx)("input",(0,l.A)({type:"text",className:"form-control ps-2",placeholder:"Enter name",autoComplete:"nope"},D(j.ic.NAME,(0,x.DX)(j.ic.NAME,"Enter name"))))}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=U[j.ic.NAME])||void 0===e?void 0:e.message})]})}),(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsxs)("label",{htmlFor:"payment_date",className:"form-label fw-semibold",children:["Date",(0,T.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,T.jsx)("div",{className:"input-group",children:(0,T.jsx)(f.A,{id:j.ic.DATE,className:"paymnet-custom-datepicker w-100",format:"YYYY-MM-DD",value:oe,onChange:e=>{ce(e)}})}),(0,T.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(s=U[j.ic.DATE])||void 0===s?void 0:s.message})]})]}),(0,T.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,T.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{ve()},children:"Cancel"}),(0,T.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})]})})}),te&&(0,T.jsx)("div",{className:"modal-backdrop fade show"}),I.isOpen&&(null===I||void 0===I?void 0:I.modalType)===u.bt.DELETE_MODEL&&(0,T.jsx)(b.A,{children:(0,T.jsx)(v.b3,{onConfirm:e=>{if(e){E((0,m.iC)(!0));let e={holiday_id:null===K||void 0===K?void 0:K.id,is_deleted:0};(0,c.lx)(e).then(e=>{if(e.code==(null===u.NC||void 0===u.NC?void 0:u.NC.SUCCESS)){(0,x.MF)(E);const s=null===z||void 0===z?void 0:z.filter(e=>e.id!==(null===K||void 0===K?void 0:K.id));E((0,m.Mx)(s)),W(null),E((0,m.iC)(!1)),(0,r.k1)(null===e||void 0===e?void 0:e.message)}else(0,x.MF)(E),(0,r.uU)(null===e||void 0===e?void 0:e.message),E((0,m.iC)(!1))})}}})})]})}},75061:(e,s,a)=>{a.d(s,{A:()=>n});var l=a(9950),i=a(82569),d=a(59091),t=a(44414);const n=e=>{let{per_page:s,pageCount:a,onPageChange:n,page:o,lableName:c}=e;const r=(0,i.wA)(),[m,u]=(0,l.useState)(),h=Math.ceil(a/s)||4;(0,l.useEffect)(()=>{u(o),r((0,d.MU)(!0))},[o]);const x=e=>{e>=1&&e<=h&&(u(e),n(e))};return(0,t.jsx)(t.Fragment,{children:s<a?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"showing-results border-top ",children:(0,t.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,t.jsxs)("ul",{className:"pagination ",children:[(0,t.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>x(1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,t.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>x(m-1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let s=m-Math.floor(1.5);s=Math.max(s,1);const l=Math.min(s+3-1,h);l-s<2&&(s=Math.max(l-3+1,1));for(let i=s;i<=l;i++){const s=m===i;if(a>0){const a="page-link font_18 ".concat(s?"text-dark active-link-pagination":"text-muted"),l="page-item ".concat(s?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,t.jsx)("li",{className:l,children:(0,t.jsx)("button",{className:a,onClick:()=>!s&&x(i),disabled:s,style:{color:"black",backgroundColor:"white"},children:i})},i))}}return e})(),(0,t.jsx)("li",{className:"page-item ".concat(m===h?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>x(m+1),disabled:m===h,children:(0,t.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,t.jsx)("li",{className:"page-item ".concat(m===h?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>x(h),disabled:m===h,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,t.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*s,a)||0," of ",a," entries"]})]})})}):null})}},78476:(e,s,a)=>{a(9950),a(30639),a(86160),a(14064),a(44414)}}]);