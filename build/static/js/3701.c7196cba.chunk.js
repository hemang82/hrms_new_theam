(self.webpackChunkHRMS_Admin_Panel=self.webpackChunkHRMS_Admin_Panel||[]).push([[3701],{11976:()=>{},15928:(e,l,a)=>{"use strict";e.exports=a.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},34263:(e,l,a)=>{"use strict";a.d(l,{Z:()=>n});var s=a(73349),d=a.n(s),t=a(32003),i=a(52610);a(82391);let o={region:t.E7,accessKeyId:t.Fb,secretAccessKey:t.YE,endpoint:"https://s3.".concat(t.E7,".amazonaws.com/chatmyastrologer")};d().config.update(o),console.log("config",o);const n=async(e,l)=>{try{var a;const s=new FormData;s.append("file_type",l),s.append("files",e);const d=await(0,i.QM)(s);console.log("Upload s3 buckets");return(null===d||void 0===d||null===(a=d.data[0])||void 0===a?void 0:a.s3_object_url)||""}catch(s){throw console.log("uploadImageOnAWS",s),s}}},72263:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>R});var s=a(89379),d=a(9950),t=a(82569),i=a(28429),o=a(42074),n=(a(20404),a(12815),a(3302),a(19594),a(13658),a(79739)),c=a(52610),r=a(82391),m=(a(15928),a(78476),a(72772),a(42380)),u=a(2401),v=(a(73907),a(59091)),h=a(32003),g=a(45397),b=a(70591),x=a(23172),p=a(19030),_=a(75061),k=a(82543),j=a(9449),N=a(60984),T=a(4159),H=a.n(T),f=(a(90923),a(53856),a(25495)),O=(a(34263),a(90607)),w=(a(25045),a(61977)),A=a(36220),y=a.n(A),M=a(15007),E=a.n(M),S=a(55117),I=a.n(S),C=a(44414);function R(){var e,l,a,T,A,y,M;let E=(0,i.Zp)();const S=(0,t.wA)(),[R,D]=(0,d.useState)(0),[F,W]=(0,d.useState)(!1),{attendanceList:{data:U}}=(0,t.d4)(e=>e.masterslice),{customerList:{data:P}}=(0,t.d4)(e=>e.masterslice),{customModel:L}=(0,t.d4)(e=>e.masterslice),{register:Y,handleSubmit:B,setValue:V,clearErrors:q,reset:z,watch:K,control:Q,trigger:Z,formState:{errors:$}}=(0,j.mN)({defaultValues:{breaks:[{start:null,end:null}]}}),{fields:G,append:J,remove:X}=(0,j.jz)({control:Q,name:"breaks"}),[ee,le]=(0,d.useState)(null),[ae,se]=(0,d.useState)({}),[de,te]=(0,d.useState)(!1),[ie,oe]=(0,d.useState)(""),[ne,ce]=((0,g.A)(ie,h.dA),(0,d.useState)({global:{value:""}})),[re,me]=(0,d.useState)(!1),[ue,ve]=(0,d.useState)({}),[he,ge]=(0,d.useState)(null),[be,xe]=(0,d.useState)(-1),[pe,_e]=(0,d.useState)(H()()),[ke,je]=(0,d.useState)(H()()),[Ne,Te]=(0,d.useState)(10),[He,fe]=(0,d.useState)(1),[Oe,we]=(0,d.useState)(null),[Ae,ye]=(0,d.useState)(""),[Me,Ee]=(0,d.useState)(!1),[Se,Ie]=(0,d.useState)([]),[Ce,Re]=(0,d.useState)(!1),[De,Fe]=(0,d.useState)(k.wz[0]);(0,d.useEffect)(()=>{const e={emp_leave_company:null===De||void 0===De?void 0:De.key};0===(null===P||void 0===P?void 0:P.length)&&S((0,v.hI)(e)),ve({})},[]);(0,d.useEffect)(()=>{if(U&&(null===U||void 0===U?void 0:U.length)>0&&pe&&ke){const e=new Date(pe);e.setHours(0,0,0,0);const l=new Date(ke);l.setHours(23,59,59,999);const a=U.flatMap(a=>{var s;return null===a||void 0===a||null===(s=a.dates)||void 0===s?void 0:s.filter(a=>{const s=new Date(null===a||void 0===a?void 0:a.date);return s>=e&&s<=l}).map(e=>({emp_id:null===a||void 0===a?void 0:a.emp_id,name:null===a||void 0===a?void 0:a.name,date:null===e||void 0===e?void 0:e.date,type:null===e||void 0===e?void 0:e.type,status:null===e||void 0===e?void 0:e.status,checkInTimes:null===e||void 0===e?void 0:e.checkInTimes,checkOutTimes:null===e||void 0===e?void 0:e.checkOutTimes,breaks:null===e||void 0===e?void 0:e.breaks}))}).sort((e,l)=>new Date(l.date).getTime()-new Date(e.date).getTime());Ie(a)}else Ie([])},[U,De]),(0,d.useEffect)(()=>{let e={start_date:pe?(0,b.qr)(pe,k.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:ke?(0,b.qr)(ke,k.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,status:(null===ue||void 0===ue?void 0:ue.key)||"",emp_leave_company:null===De||void 0===De?void 0:De.key};S((0,v.oP)(e))},[]);const We=()=>{Re(!1),se({}),z()},Ue=e=>{ve(e),fe(1)},Pe=async e=>{try{const l={start_date:null!==e&&void 0!==e&&e.start_date?(0,b.qr)(e.start_date,k.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:null!==e&&void 0!==e&&e.end_date?(0,b.qr)(e.end_date,k.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,employee_id:(null===e||void 0===e?void 0:e.employee_id)||"",emp_leave_company:(null===e||void 0===e?void 0:e.emp_leave_company)||"0"};await S((0,v.oP)(l))}finally{}},Le=async()=>{S((0,v.iC)(!0));return{code:1,data:null===Se||void 0===Se?void 0:Se.map((e,l)=>{var a,s,d,t,i;return{id:l+1,Name:"".concat((null===e||void 0===e?void 0:e.name)||"-"),Date:(0,b.CT)(null===e||void 0===e?void 0:e.date,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT)||"-",Day:(0,b.CT)(null===e||void 0===e?void 0:e.date,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_WEEK_NAME_FORMAT)||"-",DayType:(null===e||void 0===e?void 0:e.type)||"-",Status:(0,k.BS)(null===e||void 0===e?void 0:e.status)||"-",CheckIN:(null===e||void 0===e||null===(a=e.checkInTimes[0])||void 0===a?void 0:a.length)>0&&(0,b.gM)(null===e||void 0===e?void 0:e.checkInTimes[0],k.Hg.TIME_12_HOUR_FORMAT)||"-",CheckOUT:(null===e||void 0===e||null===(s=e.checkOutTimes[0])||void 0===s?void 0:s.length)>0&&(0,b.gM)(null===e||void 0===e?void 0:e.checkOutTimes[0],k.Hg.TIME_12_HOUR_FORMAT)||"-",WorkingHours:(null===e||void 0===e||null===(d=e.checkInTimes[0])||void 0===d?void 0:d.length)>0&&(0,b.fR)(null===e||void 0===e?void 0:e.checkInTimes[0],null===e||void 0===e?void 0:e.checkOutTimes[0],(0,b.VP)((null===e||void 0===e||null===(t=e.breaks)||void 0===t?void 0:t.length)>0?null===e||void 0===e?void 0:e.breaks:[]||0))||"-",BreakTime:(null===(i=e.breaks)||void 0===i?void 0:i.length)>0?(0,b.VP)(e.breaks)+"m":"-",TotalBreak:e.breaks.length>0?e.breaks.map((e,l)=>"Break ".concat(l+1,": ").concat((0,b.gM)(e.start,k.Hg.DATE_TIME_12_HOUR_FORMAT)," - ").concat((0,b.gM)(e.end,k.Hg.DATE_TIME_12_HOUR_FORMAT)," ")).join(" | "):"N/A"}})}};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.default,{isActive:Me,message:"Please Wait"}),(0,C.jsxs)("div",{className:"container-fluid mw-100",children:[(0,C.jsx)(n.A,{title:"Attendance List",header:"Attendance List"}),(0,C.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,C.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,C.jsxs)("div",{className:"row g-2",children:[(0,C.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,C.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,C.jsx)("input",{type:"text",className:"form-control ps-5 ",id:"input-search",placeholder:"Search Attendance ...",value:ie,onChange:e=>{const l=e.target.value;let a=(0,s.A)({},ne);a.global&&(a.global.value=l),ce(a),fe(1),oe(null===l||void 0===l?void 0:l.trim())}}),(0,C.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-1",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,C.jsx)(N.A,{className:"custom-datepicker w-100 p-2",format:null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT,value:pe,onChange:e=>{_e(e),je(null),Ue({id:"",name:"All Employees"})}})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-1",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,C.jsx)(N.A,{className:"custom-datepicker w-100 p-2",format:null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT,value:ke,onChange:e=>{je(e),fe(1),Pe({end_date:e,start_date:pe,status:""})},disabled:!pe,disabledDate:e=>!!pe&&e.isBefore(pe,"day")})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-1 mb-2 mb-md-0",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Status"}),(0,C.jsxs)("div",{className:"btn-group w-100",children:[(0,C.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===De||void 0===De?void 0:De.value)||"Select Status"}),(0,C.jsx)("ul",{className:"dropdown-menu w-100 border",children:null===k.wz||void 0===k.wz?void 0:k.wz.map(e=>(0,C.jsx)("li",{children:(0,C.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>{Pe({start_date:pe,end_date:ke,employee_id:"",emp_leave_company:null===e||void 0===e?void 0:e.key}),Fe(e)},children:null===e||void 0===e?void 0:e.value})},e.key))})]})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 d-flex flex-column",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Employees Filter"}),(0,C.jsxs)("div",{className:"dropdown w-100",children:[(0,C.jsx)("button",{className:"btn btn-sm btn-info fw-semibold dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{height:"40px"},children:(null===ue||void 0===ue?void 0:ue.name)||"Select Employee"}),(0,C.jsxs)("ul",{className:"dropdown-menu w-100",style:{maxHeight:"300px",overflowY:"auto"},children:[(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item text-black-50 p-2 fs-4",type:"button",onClick:()=>{Pe({start_date:pe,end_date:ke,employee_id:""}),Ue({id:"",name:"All Employees"})},children:"All Employees"})},"all"),null===P||void 0===P?void 0:P.map(e=>(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item text-black-50 p-2",type:"button",onClick:()=>{Pe({start_date:pe,end_date:ke,employee_id:null===e||void 0===e?void 0:e.id}),Ue(e)},children:null===e||void 0===e?void 0:e.name})},e.id))]})]})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 d-flex flex-column",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"\xa0"}),(0,C.jsxs)("button",{type:"button",className:"btn btn-sm btn-info d-flex align-items-center justify-content-center w-100",style:{height:"40px"},onClick:()=>E(O.R.ADD_ATTENDANCE),children:[(0,C.jsx)(f.QwN,{className:"me-1",style:{fontSize:"1.2rem"}}),(0,C.jsx)("span",{className:"fw-semibold",children:"Add Attendance"})]})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6 col-lg-1 mb-2 mb-md-0",children:[(0,C.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"\xa0"}),(0,C.jsx)("button",{className:"btn btn-info dropdown-toggle w-100 w-md-auto ",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{height:"40px"},children:"Export"}),(0,C.jsxs)("ul",{className:"dropdown-menu",children:[(0,C.jsx)("li",{children:(0,C.jsx)("a",{className:"dropdown-item text-black-50",onClick:async()=>{const{code:e,data:l}=await Le();e==h.NC.SUCCESS&&(0,r.bt)(l,"Attendance List"),S((0,v.iC)(!1))},children:"Excel"})}),(0,C.jsx)("li",{children:(0,C.jsx)("a",{className:"dropdown-item text-black-50",onClick:async()=>{const{code:e,data:l}=await Le();e==h.NC.SUCCESS&&(l.forEach(e=>{delete e.id,delete e.TotalBreak,delete e.Day}),(0,r.e0)(l,"Attendance List","Attendance List")),S((0,v.iC)(!1))},children:"PDF"})})]})]})]})}),(0,C.jsx)("div",{className:"card card-body",children:(0,C.jsxs)("div",{className:"table-responsive",children:[(0,C.jsxs)(m.b,{value:(null===Se||void 0===Se?void 0:Se.length)>0?Se:[],paginator:!0,rows:50,globalFilter:ie,sortField:he,sortOrder:be,onSort:e=>{console.log("Sort event triggered:",e),ge(null===e||void 0===e?void 0:e.sortField),xe(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===Se||void 0===Se?void 0:Se.length)>50?[20,30,50,null===Se||void 0===Se?void 0:Se.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:de,emptyMessage:(0,C.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Attendance Not Found."}),children:[(0,C.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,l)=>(null===l||void 0===l?void 0:l.rowIndex)+1,showFilterMenu:!0}),(0,C.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,C.jsxs)("span",{className:"me-2",children:[(0,b.sz)(e.name)||"-"," "]})}),(0,C.jsx)(u.V,{field:"date",header:"Date",sortable:!0,style:{minWidth:"10rem"},body:e=>(0,C.jsxs)("span",{className:"me-2",children:[(0,b.CT)(null===e||void 0===e?void 0:e.date,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_WEEK_MONTH_NAME_FORMAT)||"-"," "]})}),(0,C.jsx)(u.V,{field:"checkInTimes",header:"Check In",style:{minWidth:"10rem"},body:e=>{var l;return(0,C.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e||null===(l=e.checkInTimes[0])||void 0===l?void 0:l.length)>0&&(0,b.gM)(null===e||void 0===e?void 0:e.checkInTimes[0],k.Hg.TIME_12_HOUR_FORMAT)||"-"," "]})}}),(0,C.jsx)(u.V,{field:"checkInTimes",header:"Check Out",style:{minWidth:"10rem"},body:e=>{var l;return(0,C.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e||null===(l=e.checkOutTimes[0])||void 0===l?void 0:l.length)>0&&(0,b.gM)(null===e||void 0===e?void 0:e.checkOutTimes[0],k.Hg.TIME_12_HOUR_FORMAT)||"-"," "]})}}),(0,C.jsx)(u.V,{field:"checkInTimes",header:"Total Break",style:{minWidth:"10rem"},body:e=>{var l;return(0,C.jsxs)("span",{className:"",children:[(null===(l=e.breaks)||void 0===l?void 0:l.length)>0?(0,b.VP)(e.breaks)+"m":"-"," "]})}}),(0,C.jsx)(u.V,{field:"checkInTimes",header:"Work Hours",style:{minWidth:"10rem"},body:e=>{var l,a;return(0,C.jsxs)("span",{className:"",children:[(null===e||void 0===e||null===(l=e.checkInTimes[0])||void 0===l?void 0:l.length)>0&&(0,b.fR)(null===e||void 0===e?void 0:e.checkInTimes[0],null===e||void 0===e?void 0:e.checkOutTimes[0],(0,b.VP)((null===e||void 0===e||null===(a=e.breaks)||void 0===a?void 0:a.length)>0?null===e||void 0===e?void 0:e.breaks:[]||0))||"-"," "]})}}),(0,C.jsx)(u.V,{field:"type",sortable:!0,"data-pc-section":"root",header:"Day Type",style:{minWidth:"8rem"},body:e=>(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("span",{className:"p-tag p-component badge p-1 text-light fw-semibold px-3 status_font rounded-4 py-2 ".concat((0,k.Ny)(null===e||void 0===e?void 0:e.type)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",children:(0,C.jsx)("span",{className:"p-tag-value fs-2","data-pc-section":"value",children:(0,k.BS)(null===e||void 0===e?void 0:e.type)||"-"})})})}),(0,C.jsx)(u.V,{field:"status",sortable:!0,"data-pc-section":"root",header:"Status",style:{minWidth:"8rem"},body:e=>(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("span",{className:"p-tag p-component badge  text-light fw-semibold px-2 rounded-4 py-1 status_font ".concat((0,k.Ny)(null===e||void 0===e?void 0:e.status)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",children:(0,C.jsx)("span",{className:"p-tag-value fs-2","data-pc-section":"value",children:(0,k.BS)(null===e||void 0===e?void 0:e.status)||"-"})})})}),(0,C.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>{var l;return(0,C.jsxs)("div",{className:"action-btn",children:["1"==(0,b._S)(null===h.Ay||void 0===h.Ay?void 0:h.Ay.ROLE_KEY)&&(0,C.jsx)("a",{className:"text-custom-theam edit cursor_pointer cursor_pointer me-1",onClick:()=>{(e=>{var l,a,s;Re(!0),se(e);const d=null===e||void 0===e||null===(l=e.breaks)||void 0===l?void 0:l.map(e=>({start:e.start?H()((0,b.gM)(e.start,"HH:mm:ss"),"HH:mm:ss").format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,end:e.end?H()((0,b.gM)(e.end,"HH:mm:ss"),"HH:mm:ss").format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null}));V("breaks",d);const t=null===P||void 0===P?void 0:P.find(l=>String(l.id)===String(null===e||void 0===e?void 0:e.emp_id));le(t||null),V(null===k.ic||void 0===k.ic?void 0:k.ic.EMPLOYEE,t.id),V("dob1",null!==e&&void 0!==e&&e.date?H()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY"):null),V("checkIn",null!==e&&void 0!==e&&null!==(a=e.checkInTimes)&&void 0!==a&&a[0]?H()("".concat(e.date," ").concat((0,b.gM)(e.checkInTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss"):null),V("checkOut",null!==e&&void 0!==e&&null!==(s=e.checkOutTimes)&&void 0!==s&&s[0]?H()("".concat(e.date," ").concat((0,b.gM)(e.checkOutTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss"):null)})(e)},children:(0,C.jsx)("i",{class:"ti ti-edit fs-7"})}),(0,C.jsx)(o.N_,{onClick:()=>{var l,a;(null===e||void 0===e||null===(l=e.breaks)||void 0===l?void 0:l.length)>0&&(a=e,me(!0),se(a))},state:e,className:"text-info edit ".concat((null===e||void 0===e||null===(l=e.breaks)||void 0===l?void 0:l.length)>0?"cursor_pointer text-custom-theam":"disabled-status"),children:(0,C.jsx)("i",{className:"ti ti-eye fs-7"})})]})}})]}),(0,C.jsx)("div",{className:"",children:(0,C.jsx)(_.A,{per_page:50,pageCount:null===U||void 0===U?void 0:U.total_count,onPageChange:e=>{fe(e)},page:He})})]})})]})]}),(0,C.jsx)("div",{className:"modal custom-modal  ".concat(re?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,C.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,C.jsxs)("div",{className:"modal-content border-0",children:[(0,C.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,C.jsxs)("h6",{className:"modal-title fs-5",children:["Attendance Details"," "]}),(0,C.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{me(!1),se({})}})]}),(0,C.jsx)("div",{className:"modal-body",children:(0,C.jsx)("div",{className:"container py-3",children:(0,C.jsx)("div",{className:"row",children:[{label:"Date",value:(0,b.CT)(null===ae||void 0===ae?void 0:ae.date,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT)||"-"},{label:"Total Work Hours",value:(0,b.fR)((null===ae||void 0===ae||null===(e=ae.checkInTimes)||void 0===e?void 0:e.length)>0?null===ae||void 0===ae?void 0:ae.checkInTimes[0]:0,(null===ae||void 0===ae||null===(l=ae.checkOutTimes)||void 0===l?void 0:l.length)>0?null===ae||void 0===ae?void 0:ae.checkOutTimes[0]:0,(0,b.VP)((null===ae||void 0===ae?void 0:ae.breaks)||"-"))||"-"},{label:"Check In",value:null!==ae&&void 0!==ae&&null!==(a=ae.checkInTimes)&&void 0!==a&&a[0]?H()("".concat(null===ae||void 0===ae?void 0:ae.date," ").concat((0,b.gM)(null===ae||void 0===ae?void 0:ae.checkInTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss").format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_12_HOUR_FORMAT):"-"},{label:"Check Out",value:null!==ae&&void 0!==ae&&null!==(T=ae.checkOutTimes)&&void 0!==T&&T[0]?H()("".concat(null===ae||void 0===ae?void 0:ae.date," ").concat((0,b.gM)(null===ae||void 0===ae?void 0:ae.checkOutTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss").format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_12_HOUR_FORMAT):"-"},{label:"Break Timeline",value:"-"},{label:"Total Break",value:(null===ae||void 0===ae||null===(A=ae.breaks)||void 0===A?void 0:A.length)>0?(0,b.VP)(null===ae||void 0===ae?void 0:ae.breaks)+"m":"-"}].map((e,l)=>{var a,s;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:"col-12 col-sm-6 attendance_card",children:(0,C.jsx)("div",{className:"card border-1 them-light shadow-sm mt-2 ",children:(0,C.jsxs)("div",{className:"card-body text-center m-1 p-1",children:[(0,C.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam ",children:e.label}),"Break Timeline"==e.label?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"timeline position-relative ms-4",children:[(0,C.jsx)("div",{className:" border-custom-theam border-2 position-absolute top-0 bottom-0 start-0",style:{marginLeft:"7px"}}),(null===ae||void 0===ae||null===(a=ae.breaks)||void 0===a?void 0:a.length)>0&&(null===ae||void 0===ae||null===(s=ae.breaks)||void 0===s?void 0:s.map((e,l)=>(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"mt-2 d-flex align-items-start",children:[(0,C.jsx)("i",{className:"bi bi-circle-fill text-success fs-5 me-3"}),(0,C.jsx)("div",{children:(0,C.jsxs)("span",{className:"badge bg-light text-dark fs-4 fw-medium",children:[(0,b.gM)(e.start,k.Hg.DATE_TIME_12_HOUR_FORMAT)," - ",(0,b.gM)(e.end,k.Hg.DATE_TIME_12_HOUR_FORMAT)]})})]})},l)))]})}):(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("h5",{className:"fw-medium text-dark mb-0 fs-5",children:(null===e||void 0===e?void 0:e.value)||"0"})})]})},l)})})})})})})]})})}),re&&(0,C.jsx)("div",{className:"modal-backdrop fade show"}),(0,C.jsx)("div",{className:"modal custom-modal  ".concat(Ce?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,C.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,C.jsxs)("div",{className:"modal-content border-0",children:[(0,C.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,C.jsxs)("h3",{className:"modal-title fs-5",children:[Ce?"Edit Attendance Details":"Add Attendance Details"," "]}),(0,C.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{We()}})]}),(0,C.jsxs)("div",{className:"modal-body",children:[(0,C.jsx)("div",{className:"row",children:ee&&(0,C.jsx)("div",{className:"col-12 justify-content-center",children:(0,C.jsx)("div",{className:"mb-3",children:(0,C.jsx)("div",{className:"row",children:[{label:"Work Hours",value:(0,b.fR)(K("checkIn")?H()(K("checkIn")).format("HH:mm:ss"):0,H()(K("checkOut")||H()()).format("HH:mm:ss"),(0,b.VP)(K("breaks")||0))||0},{label:"Total Break",value:(null===(y=K("breaks"))||void 0===y?void 0:y.length)>0?(0,b.VP)(K("breaks"))+"m":"-"}].map((e,l)=>(0,C.jsx)("div",{className:"col-12 col-sm-6 attendance_card",children:(0,C.jsx)("div",{className:"card border-1 zoom-in them-light shadow-sm m-1 ",children:(0,C.jsxs)("div",{className:"card-body text-center m-1 p-1",children:[(0,C.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam ",children:e.label}),(0,C.jsx)("h5",{className:"fw-medium text-dark mb-0 fs-5",children:e.value||"-"})]})},l)}))})})})}),(0,C.jsxs)("form",{onSubmit:B(async e=>{S((0,v.iC)(!0));let l={employee_id:null===ee||void 0===ee?void 0:ee.id,date:(0,b.qr)(null===e||void 0===e?void 0:e.dob1,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_DASH_TIME_FORMAT),check_in_time:null!==e&&void 0!==e&&e.checkIn?H()(e.checkIn).format("HH:mm"):null,check_out_time:null!==e&&void 0!==e&&e.checkOut?H()(e.checkOut).format("HH:mm"):null,breaks:Array.isArray(null===e||void 0===e?void 0:e.breaks)&&e.breaks.length>0?e.breaks.map(e=>({start:null!==e&&void 0!==e&&e.start?H()(e.start,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null,end:null!==e&&void 0!==e&&e.end?H()(e.end,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null})):[],lat:"0.000",log:"0.000",location_id:"TRACEWAVE"};(0,c.KT)(l).then(a=>{if((null===a||void 0===a?void 0:a.code)==h.NC.SUCCESS){S((0,v.iC)(!1)),(0,r.k1)(null===a||void 0===a?void 0:a.message);let t=I()(Se),i=t.find(e=>e.emp_id==(null===ee||void 0===ee?void 0:ee.id));var s,d;if(i)i.checkInTimes=null!==e&&void 0!==e&&e.checkIn?[(0,b.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_in_time,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],i.checkOutTimes=null!==e&&void 0!==e&&e.checkOut?[(0,b.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_out_time,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],i.breaks=Array.isArray(null===e||void 0===e?void 0:e.breaks)&&(null===e||void 0===e||null===(s=e.breaks)||void 0===s?void 0:s.length)>0?null===e||void 0===e||null===(d=e.breaks)||void 0===d?void 0:d.map(e=>({start:null!==e&&void 0!==e&&e.start?(0,b.HB)(null===l||void 0===l?void 0:l.date,H()(e.start,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null,end:null!==e&&void 0!==e&&e.end?(0,b.HB)(null===l||void 0===l?void 0:l.date,H()(e.end,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null})):[];console.log("updatedList",t),Ie(t),We()}else(0,r.uU)(null===a||void 0===a?void 0:a.message)})}),children:[(0,C.jsxs)("div",{className:"row col-12 col-md-12 ",children:[(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsxs)("label",{htmlFor:"gender1",className:"form-label fw-semibold",children:["Select Employee",(0,C.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,C.jsx)("div",{className:"input-group border rounded-1",children:(0,C.jsxs)("select",(0,s.A)((0,s.A)({id:"gender1",className:"form-control ps-2 p-2",autoComplete:"nope"},Y(k.ic.EMPLOYEE,{required:"Select employee"})),{},{onChange:e=>{const l=e.target.value,a=P.find(e=>String(e.id)===String(l));console.log("selectedObjselectedObj",a),le(a||null),V(null===k.ic||void 0===k.ic?void 0:k.ic.EMPLOYEE_ID,a.id)},disabled:!0,children:[(0,C.jsx)("option",{value:"",children:"Select employee"}),(0,b.st)(P)]}))}),(0,C.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(M=$[k.ic.EMPLOYEE])||void 0===M?void 0:M.message})]}),(0,C.jsx)("div",{className:"mb-3",children:(0,C.jsxs)("div",{className:"col-12 ",children:[(0,C.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,C.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,C.jsx)(j.xI,{name:"dob1",control:Q,rules:{required:"Date is required"},render:e=>{let{field:l}=e;return(0,C.jsx)(N.A,{id:"dob1",picker:"date",className:"form-control custom-datepicker w-100",format:null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT,value:l.value?H()(l.value,null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT):null,onChange:e=>l.onChange(e?H()(e).format(null===k.ow||void 0===k.ow?void 0:k.ow.DATE_FORMAT):null)})}}),$.dob1&&(0,C.jsx)("small",{className:"text-danger",children:$.dob1.message})]})}),(0,C.jsx)("div",{className:"mb-3",children:(0,C.jsxs)("div",{className:"row",children:[(0,C.jsxs)("div",{className:"col-12 col-md-6",children:[(0,C.jsxs)("label",{htmlFor:"checkIn",className:"form-label fw-semibold",children:["Check In Time ",(0,C.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,C.jsx)(j.xI,{name:"checkIn",control:Q,rules:{required:"Check In time is required"},render:e=>{let{field:l}=e;return(0,C.jsx)(N.A,(0,s.A)((0,s.A)({},l),{},{id:"checkIn",className:"form-control custom-datepicker w-100",picker:"time",format:null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),$.checkIn&&(0,C.jsx)("span",{className:"text-danger small",children:$.checkIn.message})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6",children:[(0,C.jsxs)("label",{htmlFor:"checkOut",className:"form-label fw-semibold",children:["Check Out Time ",(0,C.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,C.jsx)(j.xI,{name:"checkOut",control:Q,rules:{required:"Check Out time is required"},render:e=>{let{field:l}=e;return(0,C.jsx)(N.A,(0,s.A)((0,s.A)({},l),{},{id:"checkOut",className:"form-control custom-datepicker w-100",picker:"time",format:null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),$.checkOut&&(0,C.jsx)("span",{className:"text-danger small",children:$.checkOut.message})]})]})}),(0,C.jsxs)("div",{className:"mb-3",children:[G.map((e,l)=>(0,C.jsxs)("div",{className:"row g-3 mb-3",children:[(0,C.jsxs)("div",{className:"col-12  ".concat(G.length>1?"col-md-5":"col-md-6"),children:[(0,C.jsxs)("label",{htmlFor:"breaks[".concat(l,"].start"),className:"form-label fw-semibold",children:["Break In Time ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(j.xI,{name:"breaks.".concat(l,".start"),control:Q,rules:{required:"Break In is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N.A,{id:"breakIn-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?H()(a.value,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?H()(e).format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,C.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),(0,C.jsxs)("div",{className:"col-12 col-md-6",children:[(0,C.jsxs)("label",{htmlFor:"breaks[".concat(l,"].end"),className:"form-label fw-semibold",children:["Break Out Time ",(0,C.jsx)("span",{className:"text-danger",children:"*"})]}),(0,C.jsx)(j.xI,{name:"breaks.".concat(l,".end"),control:Q,rules:{required:"Break Out is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N.A,{id:"breakOut-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?H()(a.value,null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?H()(e).format(null===k.Hg||void 0===k.Hg?void 0:k.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,C.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),G.length>1&&(0,C.jsx)("div",{className:"col-12 col-md-1 d-flex align-items-end",children:(0,C.jsx)("button",{type:"button",className:"btn text-white bg-danger btn-sm mb-1",style:{border:"1px solid transparent"},onMouseEnter:e=>e.currentTarget.style.border="1px solid #fa896b",onMouseLeave:e=>e.currentTarget.style.border="1px solid transparent",onClick:()=>X(l),children:(0,C.jsx)(f.$8F,{})})})]},e.id)),(0,C.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>J({start:null,end:null}),children:"+ Add Break"})]})]}),(0,C.jsxs)("div",{className:"modal-footer justify-content-center mb-3",children:[(0,C.jsx)("button",{type:"button",className:"btn btn-danger m-2",onClick:()=>{We()},children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})]})]})})}),Ce&&(0,C.jsx)("div",{className:"modal-backdrop fade show"}),L.isOpen&&(null===L||void 0===L?void 0:L.modalType)===h.bt.DELETE_MODEL&&(0,C.jsx)(x.A,{children:(0,C.jsx)(p.b3,{onConfirm:e=>{}})})]})}H().extend(y()),H().extend(E())},75061:(e,l,a)=>{"use strict";a.d(l,{A:()=>o});var s=a(9950),d=a(82569),t=a(59091),i=a(44414);const o=e=>{let{per_page:l,pageCount:a,onPageChange:o,page:n,lableName:c}=e;const r=(0,d.wA)(),[m,u]=(0,s.useState)(),v=Math.ceil(a/l)||4;(0,s.useEffect)(()=>{u(n),r((0,t.MU)(!0))},[n]);const h=e=>{e>=1&&e<=v&&(u(e),o(e))};return(0,i.jsx)(i.Fragment,{children:l<a?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"showing-results border-top ",children:(0,i.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,i.jsxs)("ul",{className:"pagination ",children:[(0,i.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>h(1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,i.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>h(m-1),disabled:1===m,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let l=m-Math.floor(1.5);l=Math.max(l,1);const s=Math.min(l+3-1,v);s-l<2&&(l=Math.max(s-3+1,1));for(let d=l;d<=s;d++){const l=m===d;if(a>0){const a="page-link font_18 ".concat(l?"text-dark active-link-pagination":"text-muted"),s="page-item ".concat(l?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,i.jsx)("li",{className:s,children:(0,i.jsx)("button",{className:a,onClick:()=>!l&&h(d),disabled:l,style:{color:"black",backgroundColor:"white"},children:d})},d))}}return e})(),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>h(m+1),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,i.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,i.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>h(v),disabled:m===v,children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,i.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*l,a)||0," of ",a," entries"]})]})})}):null})}},78476:(e,l,a)=>{"use strict";a(9950),a(30639),a(86160),a(14064),a(44414)}}]);